<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1632px" preserveAspectRatio="none" style="width:1538px;height:1632px;" version="1.1" viewBox="0 0 1538 1632" width="1538px" zoomAndPan="magnify"><defs><filter height="300%" id="f1s3ywthzpb3gd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ce7bfceea28453858a30d77f1599b96e]
cluster org.eclipse.keyple--><polygon fill="#FFFFFF" filter="url(#f1s3ywthzpb3gd)" points="22,24.5,157,24.5,164,48.1094,1516,48.1094,1516,1620,22,1620,22,24.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="164" y1="48.1094" y2="48.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="26" y="41.0332">org.eclipse.keyple</text><!--MD5=[50877fe469a156400d2d04beeda3ce9c]
cluster seproxy--><polygon fill="#FFFFFF" filter="url(#f1s3ywthzpb3gd)" points="46,68.5,108,68.5,115,92.1094,1492,92.1094,1492,1338,46,1338,46,68.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="115" y1="92.1094" y2="92.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="50" y="85.0332">seproxy</text><!--MD5=[59e9faf83e5ffb743ef5750f57e8e967]
cluster protocol--><polygon fill="#FFFFFF" filter="url(#f1s3ywthzpb3gd)" points="686,662.5,751,662.5,758,686.1094,1241,686.1094,1241,900.5,686,900.5,686,662.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="686" x2="758" y1="686.1094" y2="686.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="690" y="679.0332">protocol</text><!--MD5=[3e81cc6ee7da4fa8b6adc12b329096f6]
cluster util--><polygon fill="#FFFFFF" filter="url(#f1s3ywthzpb3gd)" points="343,1371,371,1371,378,1394.6094,671,1394.6094,671,1596,343,1596,343,1371" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="343" x2="378" y1="1394.6094" y2="1394.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="347" y="1387.5332">util</text><!--MD5=[96a4004012a1c08588eb87adf87ec875]
class ProxyReader--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="89.5078" id="ProxyReader" style="stroke: #A80036; stroke-width: 1.5;" width="356" x="241" y="508.5"/><ellipse cx="373.25" cy="524.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M374.25,521.5 L374.25,527.5 L376.25,527.5 L376.7344,527.5 L377.25,528.125 L377.25,528.5 L377.25,528.875 L376.7344,529.5 L376.25,529.5 L370.25,529.5 L369.7656,529.5 L369.25,528.875 L369.25,528.5 L369.25,528.125 L369.7656,527.5 L370.25,527.5 L372.25,527.5 L372.25,521.5 L370.25,521.5 L369.7656,521.5 L369.25,520.875 L369.25,520.5 L369.25,520.125 L369.7656,519.5 L370.25,519.5 L376.25,519.5 L376.7344,519.5 L377.25,520.125 L377.25,520.5 L377.25,520.875 L376.7344,521.5 L376.25,521.5 L374.25,521.5 Z "/><ellipse cx="398.75" cy="524" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="404.75" y="529.4102">ProxyReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="596" y1="540.5" y2="540.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="596" y1="548.5" y2="548.5"/><ellipse cx="252" cy="559.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="261" y="563.9189">boolean isSePresent()</text><ellipse cx="252" cy="573.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="309" x="261" y="577.7549">void addSeProtocolSetting(SeProtocolSetting seProtocolSetting);</text><ellipse cx="252" cy="587.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="261" y="591.5908">SeResponseSet transmit(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="384" y="591.5908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="410" y="591.5908">SeRequestSet seApplicationRequest)</text><!--MD5=[7e6a2ca17d0b5d3b1152f9b57fed9f85]
class SeRequestSet--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="117.1797" id="SeRequestSet" style="stroke: #A80036; stroke-width: 1.5;" width="292" x="213" y="285.5"/><ellipse cx="295.75" cy="301.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M297.75,298 Q297.9531,297.5 298.1875,297.25 Q298.4219,297 298.6875,297 Q299.1563,297 299.4531,297.2813 Q299.75,297.5625 299.75,298.2188 L299.75,299.7813 Q299.75,300.4375 299.4688,300.7188 Q299.1875,301 298.75,301 Q298.3594,301 298.1094,300.8281 Q297.8594,300.6563 297.75,300.2031 Q297.7031,299.8906 297.5313,299.7188 Q297.2188,299.3906 296.6563,299.2031 Q296.0938,299 295.5313,299 Q294.8281,299 294.2344,299.2813 Q293.6563,299.5625 293.2031,300.1875 Q292.75,300.8125 292.75,301.6719 L292.75,302.5938 Q292.75,303.625 293.5938,304.3125 Q294.4375,305 295.9375,305 Q296.8281,305 297.4531,304.7969 Q297.8125,304.6875 298.2188,304.3281 Q298.4844,304.125 298.625,304.0625 Q298.7656,304 298.9375,304 Q299.2656,304 299.5,304.2656 Q299.75,304.5156 299.75,304.875 Q299.75,305.2188 299.4063,305.625 Q298.9063,306.2188 298.1094,306.5469 Q297.0625,307 295.7813,307 Q294.2813,307 293.0781,306.4063 Q292.1094,305.9375 291.4219,304.9219 Q290.75,303.9063 290.75,302.7031 L290.75,301.6094 Q290.75,300.3594 291.3438,299.2656 Q291.9531,298.1719 293,297.5938 Q294.0625,297 295.25,297 Q295.9688,297 296.5938,297.25 Q297.2188,297.5 297.75,298 Z "/><ellipse cx="321.25" cy="301" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="327.25" y="306.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="354.25" y="306.4102">SeRequestSet</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="214" x2="504" y1="317.5" y2="317.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="221" y="325.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="233" y="332.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="259" y="332.9189">LinkedHashSet&lt;SeRequest&gt; orderedSetRequests</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="214" x2="504" y1="339.3359" y2="339.3359"/><ellipse cx="224" cy="350.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="233" y="354.7549">SeRequestSet(Set&lt;SeRequest&gt; seRequests)</text><ellipse cx="224" cy="364.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="233" y="368.5908">SeRequestSet(SeRequest seRequest)</text><ellipse cx="224" cy="378.0078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="233" y="382.4268">Set&lt;SeRequest&gt; getRequests()</text><ellipse cx="224" cy="391.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="233" y="396.2627">SeRequest getSingleRequest()</text><!--MD5=[e3a2b662192273a026a82253712c1618]
class SeResponseSet--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="117.1797" id="SeResponseSet" style="stroke: #A80036; stroke-width: 1.5;" width="273" x="62.5" y="733"/><ellipse cx="130.25" cy="749" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M132.25,745.5 Q132.4531,745 132.6875,744.75 Q132.9219,744.5 133.1875,744.5 Q133.6563,744.5 133.9531,744.7813 Q134.25,745.0625 134.25,745.7188 L134.25,747.2813 Q134.25,747.9375 133.9688,748.2188 Q133.6875,748.5 133.25,748.5 Q132.8594,748.5 132.6094,748.3281 Q132.3594,748.1563 132.25,747.7031 Q132.2031,747.3906 132.0313,747.2188 Q131.7188,746.8906 131.1563,746.7031 Q130.5938,746.5 130.0313,746.5 Q129.3281,746.5 128.7344,746.7813 Q128.1563,747.0625 127.7031,747.6875 Q127.25,748.3125 127.25,749.1719 L127.25,750.0938 Q127.25,751.125 128.0938,751.8125 Q128.9375,752.5 130.4375,752.5 Q131.3281,752.5 131.9531,752.2969 Q132.3125,752.1875 132.7188,751.8281 Q132.9844,751.625 133.125,751.5625 Q133.2656,751.5 133.4375,751.5 Q133.7656,751.5 134,751.7656 Q134.25,752.0156 134.25,752.375 Q134.25,752.7188 133.9063,753.125 Q133.4063,753.7188 132.6094,754.0469 Q131.5625,754.5 130.2813,754.5 Q128.7813,754.5 127.5781,753.9063 Q126.6094,753.4375 125.9219,752.4219 Q125.25,751.4063 125.25,750.2031 L125.25,749.1094 Q125.25,747.8594 125.8438,746.7656 Q126.4531,745.6719 127.5,745.0938 Q128.5625,744.5 129.75,744.5 Q130.4688,744.5 131.0938,744.75 Q131.7188,745 132.25,745.5 Z "/><ellipse cx="155.75" cy="748.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="161.75" y="753.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="188.75" y="753.9102">SeResponseSet</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="334.5" y1="765" y2="765"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="70.5" y="773"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="82.5" y="780.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="108.5" y="780.4189">ArrayList&lt;SeResponse&gt; seResponses</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="334.5" y1="786.8359" y2="786.8359"/><ellipse cx="73.5" cy="797.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="82.5" y="802.2549">SeResponseSet(List&lt;SeResponse&gt; seResponses)</text><ellipse cx="73.5" cy="811.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="82.5" y="816.0908">SeResponseSet(SeResponse seResponse)</text><ellipse cx="73.5" cy="825.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="82.5" y="829.9268">List&lt;SeResponse&gt; getResponses()</text><ellipse cx="73.5" cy="839.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="82.5" y="843.7627">SeResponse getSingleResponse()</text><!--MD5=[8d2debdbb32bf9c83697f345c4529e73]
class ApduRequest--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="89.5078" id="ApduRequest" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="1017" y="508.5"/><ellipse cx="1086.25" cy="524.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1088.25,521 Q1088.4531,520.5 1088.6875,520.25 Q1088.9219,520 1089.1875,520 Q1089.6563,520 1089.9531,520.2813 Q1090.25,520.5625 1090.25,521.2188 L1090.25,522.7813 Q1090.25,523.4375 1089.9688,523.7188 Q1089.6875,524 1089.25,524 Q1088.8594,524 1088.6094,523.8281 Q1088.3594,523.6563 1088.25,523.2031 Q1088.2031,522.8906 1088.0313,522.7188 Q1087.7188,522.3906 1087.1563,522.2031 Q1086.5938,522 1086.0313,522 Q1085.3281,522 1084.7344,522.2813 Q1084.1563,522.5625 1083.7031,523.1875 Q1083.25,523.8125 1083.25,524.6719 L1083.25,525.5938 Q1083.25,526.625 1084.0938,527.3125 Q1084.9375,528 1086.4375,528 Q1087.3281,528 1087.9531,527.7969 Q1088.3125,527.6875 1088.7188,527.3281 Q1088.9844,527.125 1089.125,527.0625 Q1089.2656,527 1089.4375,527 Q1089.7656,527 1090,527.2656 Q1090.25,527.5156 1090.25,527.875 Q1090.25,528.2188 1089.9063,528.625 Q1089.4063,529.2188 1088.6094,529.5469 Q1087.5625,530 1086.2813,530 Q1084.7813,530 1083.5781,529.4063 Q1082.6094,528.9375 1081.9219,527.9219 Q1081.25,526.9063 1081.25,525.7031 L1081.25,524.6094 Q1081.25,523.3594 1081.8438,522.2656 Q1082.4531,521.1719 1083.5,520.5938 Q1084.5625,520 1085.75,520 Q1086.4688,520 1087.0938,520.25 Q1087.7188,520.5 1088.25,521 Z "/><ellipse cx="1111.75" cy="524" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1117.75" y="529.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="1144.75" y="529.4102">ApduRequest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1018" x2="1276" y1="540.5" y2="540.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1025" y="548.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="1037" y="555.9189">boolean case4</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1018" x2="1276" y1="562.3359" y2="562.3359"/><ellipse cx="1028" cy="573.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="1037" y="577.7549">ApduRequest(ByteBuffer bytes, boolean case4)</text><ellipse cx="1028" cy="587.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="1037" y="591.5908">boolean isCase4()</text><!--MD5=[020bc233d237158d8be37d9dae17a65e]
class ApduResponse--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="89.5078" id="ApduResponse" style="stroke: #A80036; stroke-width: 1.5;" width="293" x="746.5" y="981"/><ellipse cx="826.75" cy="997" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M828.75,993.5 Q828.9531,993 829.1875,992.75 Q829.4219,992.5 829.6875,992.5 Q830.1563,992.5 830.4531,992.7813 Q830.75,993.0625 830.75,993.7188 L830.75,995.2813 Q830.75,995.9375 830.4688,996.2188 Q830.1875,996.5 829.75,996.5 Q829.3594,996.5 829.1094,996.3281 Q828.8594,996.1563 828.75,995.7031 Q828.7031,995.3906 828.5313,995.2188 Q828.2188,994.8906 827.6563,994.7031 Q827.0938,994.5 826.5313,994.5 Q825.8281,994.5 825.2344,994.7813 Q824.6563,995.0625 824.2031,995.6875 Q823.75,996.3125 823.75,997.1719 L823.75,998.0938 Q823.75,999.125 824.5938,999.8125 Q825.4375,1000.5 826.9375,1000.5 Q827.8281,1000.5 828.4531,1000.2969 Q828.8125,1000.1875 829.2188,999.8281 Q829.4844,999.625 829.625,999.5625 Q829.7656,999.5 829.9375,999.5 Q830.2656,999.5 830.5,999.7656 Q830.75,1000.0156 830.75,1000.375 Q830.75,1000.7188 830.4063,1001.125 Q829.9063,1001.7188 829.1094,1002.0469 Q828.0625,1002.5 826.7813,1002.5 Q825.2813,1002.5 824.0781,1001.9063 Q823.1094,1001.4375 822.4219,1000.4219 Q821.75,999.4063 821.75,998.2031 L821.75,997.1094 Q821.75,995.8594 822.3438,994.7656 Q822.9531,993.6719 824,993.0938 Q825.0625,992.5 826.25,992.5 Q826.9688,992.5 827.5938,992.75 Q828.2188,993 828.75,993.5 Z "/><ellipse cx="852.25" cy="996.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="858.25" y="1001.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="885.25" y="1001.9102">ApduResponse</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="747.5" x2="1038.5" y1="1013" y2="1013"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="754.5" y="1021"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="766.5" y="1028.4189">boolean successful</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="747.5" x2="1038.5" y1="1034.8359" y2="1034.8359"/><ellipse cx="757.5" cy="1045.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="267" x="766.5" y="1050.2549">ApduResponse(ByteBuffer bytes, boolean successful)</text><ellipse cx="757.5" cy="1059.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="766.5" y="1064.0908">boolean isSuccessful()</text><!--MD5=[aac5a6cf7ecd97a8ea894835343aad05]
class SeRequest--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="172.5234" id="SeRequest" style="stroke: #A80036; stroke-width: 1.5;" width="649" x="648.5" y="257.5"/><ellipse cx="918.75" cy="273.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M920.75,270 Q920.9531,269.5 921.1875,269.25 Q921.4219,269 921.6875,269 Q922.1563,269 922.4531,269.2813 Q922.75,269.5625 922.75,270.2188 L922.75,271.7813 Q922.75,272.4375 922.4688,272.7188 Q922.1875,273 921.75,273 Q921.3594,273 921.1094,272.8281 Q920.8594,272.6563 920.75,272.2031 Q920.7031,271.8906 920.5313,271.7188 Q920.2188,271.3906 919.6563,271.2031 Q919.0938,271 918.5313,271 Q917.8281,271 917.2344,271.2813 Q916.6563,271.5625 916.2031,272.1875 Q915.75,272.8125 915.75,273.6719 L915.75,274.5938 Q915.75,275.625 916.5938,276.3125 Q917.4375,277 918.9375,277 Q919.8281,277 920.4531,276.7969 Q920.8125,276.6875 921.2188,276.3281 Q921.4844,276.125 921.625,276.0625 Q921.7656,276 921.9375,276 Q922.2656,276 922.5,276.2656 Q922.75,276.5156 922.75,276.875 Q922.75,277.2188 922.4063,277.625 Q921.9063,278.2188 921.1094,278.5469 Q920.0625,279 918.7813,279 Q917.2813,279 916.0781,278.4063 Q915.1094,277.9375 914.4219,276.9219 Q913.75,275.9063 913.75,274.7031 L913.75,273.6094 Q913.75,272.3594 914.3438,271.2656 Q914.9531,270.1719 916,269.5938 Q917.0625,269 918.25,269 Q918.9688,269 919.5938,269.25 Q920.2188,269.5 920.75,270 Z "/><ellipse cx="944.25" cy="273" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="950.25" y="278.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="977.25" y="278.4102">SeRequest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="649.5" x2="1296.5" y1="289.5" y2="289.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="656.5" y="297.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="668.5" y="304.9189">Selector[0..1] selector</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="656.5" y="311.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="668.5" y="318.7549">ArrayList&lt;ApduRequest&gt; apduRequests</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="656.5" y="325.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="668.5" y="332.5908">SeProtocol[0..1] protocolFlag</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="656.5" y="339.0078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="668.5" y="346.4268">boolean keepChannelOpen</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="649.5" x2="1296.5" y1="352.8438" y2="352.8438"/><ellipse cx="659.5" cy="363.8438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="623" x="668.5" y="368.2627">SeRequest(Selector[0..1] selector, List&lt;ApduRequest&gt; apduRequests,  boolean keepChannelOpen, SeProtocol[0..1] protocolFlag)</text><ellipse cx="659.5" cy="377.6797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="668.5" y="382.0986">Selector getSelector()</text><ellipse cx="659.5" cy="391.5156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="668.5" y="395.9346">List&lt;ApduRequest&gt; getApduRequests()</text><ellipse cx="659.5" cy="405.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="668.5" y="409.7705">boolean isKeepChannelOpen()</text><ellipse cx="659.5" cy="419.1875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="668.5" y="423.6064">SeProtocol getProtocolFlag()</text><!--MD5=[5be80dcd0b79afe0527b7f5d314ff4a2]
class SeResponse--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="172.5234" id="SeResponse" style="stroke: #A80036; stroke-width: 1.5;" width="684" x="165" y="1149"/><ellipse cx="447.25" cy="1165" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M449.25,1161.5 Q449.4531,1161 449.6875,1160.75 Q449.9219,1160.5 450.1875,1160.5 Q450.6563,1160.5 450.9531,1160.7813 Q451.25,1161.0625 451.25,1161.7188 L451.25,1163.2813 Q451.25,1163.9375 450.9688,1164.2188 Q450.6875,1164.5 450.25,1164.5 Q449.8594,1164.5 449.6094,1164.3281 Q449.3594,1164.1563 449.25,1163.7031 Q449.2031,1163.3906 449.0313,1163.2188 Q448.7188,1162.8906 448.1563,1162.7031 Q447.5938,1162.5 447.0313,1162.5 Q446.3281,1162.5 445.7344,1162.7813 Q445.1563,1163.0625 444.7031,1163.6875 Q444.25,1164.3125 444.25,1165.1719 L444.25,1166.0938 Q444.25,1167.125 445.0938,1167.8125 Q445.9375,1168.5 447.4375,1168.5 Q448.3281,1168.5 448.9531,1168.2969 Q449.3125,1168.1875 449.7188,1167.8281 Q449.9844,1167.625 450.125,1167.5625 Q450.2656,1167.5 450.4375,1167.5 Q450.7656,1167.5 451,1167.7656 Q451.25,1168.0156 451.25,1168.375 Q451.25,1168.7188 450.9063,1169.125 Q450.4063,1169.7188 449.6094,1170.0469 Q448.5625,1170.5 447.2813,1170.5 Q445.7813,1170.5 444.5781,1169.9063 Q443.6094,1169.4375 442.9219,1168.4219 Q442.25,1167.4063 442.25,1166.2031 L442.25,1165.1094 Q442.25,1163.8594 442.8438,1162.7656 Q443.4531,1161.6719 444.5,1161.0938 Q445.5625,1160.5 446.75,1160.5 Q447.4688,1160.5 448.0938,1160.75 Q448.7188,1161 449.25,1161.5 Z "/><ellipse cx="472.75" cy="1164.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="478.75" y="1169.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="505.75" y="1169.9102">SeResponse</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="166" x2="848" y1="1181" y2="1181"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="173" y="1189"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="185" y="1196.4189">boolean channelPreviouslyOpen</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="173" y="1202.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="185" y="1210.2549">ApduResponse[0..1] atr</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="173" y="1216.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="185" y="1224.0908">ApduResponse[0..1] fci</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="173" y="1230.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="214" x="185" y="1237.9268">ArrayList&lt;ApduResponse&gt; apduResponses</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="166" x2="848" y1="1244.3438" y2="1244.3438"/><ellipse cx="176" cy="1255.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="658" x="185" y="1259.7627">SeResponse(boolean channelPreviouslyOpen, ApduResponse[0..1] atr, ApduResponse[0..1] fci, List&lt;ApduResponse&gt; apduResponses)</text><ellipse cx="176" cy="1269.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="185" y="1273.5986">boolean wasChannelPreviouslyOpen()</text><ellipse cx="176" cy="1283.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="185" y="1287.4346">ApduResponse getAtr()</text><ellipse cx="176" cy="1296.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="185" y="1301.2705">ApduResponse getFci()</text><ellipse cx="176" cy="1310.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="185" y="1315.1064">List&lt;ApduResponse&gt; getApduResponses()</text><!--MD5=[63d75eeac284521a5d81bc981e386e9a]
class Selector--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="48" id="Selector" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="1332.5" y="320"/><ellipse cx="1347.5" cy="336" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1349.25,337.5 L1345.9531,337.5 L1345.5156,338.5 L1345.5156,338.5 L1345.9844,338.5 L1346.5,339.125 L1346.5,339.5 L1346.5,339.875 L1345.9844,340.5 L1345.5156,340.5 L1343.625,340.5 L1343.0156,340.5 L1342.5,339.875 L1342.5,339.5 L1342.5,339.125 L1343.0156,338.5 L1343.625,338.5 L1345.9375,332.5 L1345.0625,332.5 L1344.0156,332.5 L1343.5,331.875 L1343.5,331.5 L1343.5,331.125 L1344.0156,330.5 L1345.0625,330.5 L1348.7344,330.5 L1351.4219,338.5 L1351.9844,338.5 L1351.9844,338.5 L1352.5,339.125 L1352.5,339.5 L1352.5,339.875 L1351.9844,340.5 L1351.4219,340.5 L1349.5313,340.5 L1349.0156,340.5 L1348.5,339.875 L1348.5,339.5 L1348.5,339.125 L1349.0156,338.5 L1349.5313,338.5 L1349.5313,338.5 L1349.25,337.5 Z M1348.7031,335.5 L1347.5,331.9219 L1346.4688,335.5 L1348.7031,335.5 Z "/><ellipse cx="1366.5" cy="335.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="1372.5" y="340.9102">static</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="1407.5" y="340.9102">Selector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1333.5" x2="1454.5" y1="352" y2="352"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1333.5" x2="1454.5" y1="360" y2="360"/><!--MD5=[0c38ce21b8fe3613f2a22c03c2bb1923]
class AidSelector--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="61.8359" id="AidSelector" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="1274" y="111"/><ellipse cx="1304.75" cy="127" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1306.75,123.5 Q1306.9531,123 1307.1875,122.75 Q1307.4219,122.5 1307.6875,122.5 Q1308.1563,122.5 1308.4531,122.7813 Q1308.75,123.0625 1308.75,123.7188 L1308.75,125.2813 Q1308.75,125.9375 1308.4688,126.2188 Q1308.1875,126.5 1307.75,126.5 Q1307.3594,126.5 1307.1094,126.3281 Q1306.8594,126.1563 1306.75,125.7031 Q1306.7031,125.3906 1306.5313,125.2188 Q1306.2188,124.8906 1305.6563,124.7031 Q1305.0938,124.5 1304.5313,124.5 Q1303.8281,124.5 1303.2344,124.7813 Q1302.6563,125.0625 1302.2031,125.6875 Q1301.75,126.3125 1301.75,127.1719 L1301.75,128.0938 Q1301.75,129.125 1302.5938,129.8125 Q1303.4375,130.5 1304.9375,130.5 Q1305.8281,130.5 1306.4531,130.2969 Q1306.8125,130.1875 1307.2188,129.8281 Q1307.4844,129.625 1307.625,129.5625 Q1307.7656,129.5 1307.9375,129.5 Q1308.2656,129.5 1308.5,129.7656 Q1308.75,130.0156 1308.75,130.375 Q1308.75,130.7188 1308.4063,131.125 Q1307.9063,131.7188 1307.1094,132.0469 Q1306.0625,132.5 1304.7813,132.5 Q1303.2813,132.5 1302.0781,131.9063 Q1301.1094,131.4375 1300.4219,130.4219 Q1299.75,129.4063 1299.75,128.2031 L1299.75,127.1094 Q1299.75,125.8594 1300.3438,124.7656 Q1300.9531,123.6719 1302,123.0938 Q1303.0625,122.5 1304.25,122.5 Q1304.9688,122.5 1305.5938,122.75 Q1306.2188,123 1306.75,123.5 Z "/><ellipse cx="1327.25" cy="126.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="1333.25" y="131.9102">static final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="1395.25" y="131.9102">AidSelector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1275" x2="1475" y1="143" y2="143"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1275" x2="1475" y1="151" y2="151"/><ellipse cx="1285" cy="162" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="1294" y="166.4189">AidSelector(ByteBuffer aidToSelect)</text><!--MD5=[f428c4dc64511916316291419143e8fc]
class AtrSelector--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="61.8359" id="AtrSelector" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="1312" y="522.5"/><ellipse cx="1327" cy="538.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1329,535 Q1329.2031,534.5 1329.4375,534.25 Q1329.6719,534 1329.9375,534 Q1330.4063,534 1330.7031,534.2813 Q1331,534.5625 1331,535.2188 L1331,536.7813 Q1331,537.4375 1330.7188,537.7188 Q1330.4375,538 1330,538 Q1329.6094,538 1329.3594,537.8281 Q1329.1094,537.6563 1329,537.2031 Q1328.9531,536.8906 1328.7813,536.7188 Q1328.4688,536.3906 1327.9063,536.2031 Q1327.3438,536 1326.7813,536 Q1326.0781,536 1325.4844,536.2813 Q1324.9063,536.5625 1324.4531,537.1875 Q1324,537.8125 1324,538.6719 L1324,539.5938 Q1324,540.625 1324.8438,541.3125 Q1325.6875,542 1327.1875,542 Q1328.0781,542 1328.7031,541.7969 Q1329.0625,541.6875 1329.4688,541.3281 Q1329.7344,541.125 1329.875,541.0625 Q1330.0156,541 1330.1875,541 Q1330.5156,541 1330.75,541.2656 Q1331,541.5156 1331,541.875 Q1331,542.2188 1330.6563,542.625 Q1330.1563,543.2188 1329.3594,543.5469 Q1328.3125,544 1327.0313,544 Q1325.5313,544 1324.3281,543.4063 Q1323.3594,542.9375 1322.6719,541.9219 Q1322,540.9063 1322,539.7031 L1322,538.6094 Q1322,537.3594 1322.5938,536.2656 Q1323.2031,535.1719 1324.25,534.5938 Q1325.3125,534 1326.5,534 Q1327.2188,534 1327.8438,534.25 Q1328.4688,534.5 1329,535 Z "/><ellipse cx="1346" cy="538" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="1352" y="543.4102">static final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="1414" y="543.4102">AtrSelector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1313" x2="1475" y1="554.5" y2="554.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1313" x2="1475" y1="562.5" y2="562.5"/><ellipse cx="1323" cy="573.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="1332" y="577.9189">AtrSelector(String atrRegex)</text><!--MD5=[029eeeb5f037d1cad7d1ad059afd3aa0]
class SeProtocol--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="61.8359" id="SeProtocol" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="874.5" y="522.5"/><ellipse cx="891.3" cy="538.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M892.3,535.5 L892.3,541.5 L894.3,541.5 L894.7844,541.5 L895.3,542.125 L895.3,542.5 L895.3,542.875 L894.7844,543.5 L894.3,543.5 L888.3,543.5 L887.8156,543.5 L887.3,542.875 L887.3,542.5 L887.3,542.125 L887.8156,541.5 L888.3,541.5 L890.3,541.5 L890.3,535.5 L888.3,535.5 L887.8156,535.5 L887.3,534.875 L887.3,534.5 L887.3,534.125 L887.8156,533.5 L888.3,533.5 L894.3,533.5 L894.7844,533.5 L895.3,534.125 L895.3,534.5 L895.3,534.875 L894.7844,535.5 L894.3,535.5 L892.3,535.5 Z "/><ellipse cx="910.7" cy="538" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="916.7" y="543.4102">SeProtocol</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="875.5" x2="980.5" y1="554.5" y2="554.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="875.5" x2="980.5" y1="562.5" y2="562.5"/><ellipse cx="885.5" cy="573.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="894.5" y="577.9189">String getName()</text><!--MD5=[acd0331da41c5ea0f79d28dd3aa37252]
class AbstractApduBuffer--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="89.5078" id="AbstractApduBuffer" style="stroke: #A80036; stroke-width: 1.5;" width="216" x="1260" y="746.5"/><ellipse cx="1310.75" cy="762.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1312.5,764 L1309.2031,764 L1308.7656,765 L1308.7656,765 L1309.2344,765 L1309.75,765.625 L1309.75,766 L1309.75,766.375 L1309.2344,767 L1308.7656,767 L1306.875,767 L1306.2656,767 L1305.75,766.375 L1305.75,766 L1305.75,765.625 L1306.2656,765 L1306.875,765 L1309.1875,759 L1308.3125,759 L1307.2656,759 L1306.75,758.375 L1306.75,758 L1306.75,757.625 L1307.2656,757 L1308.3125,757 L1311.9844,757 L1314.6719,765 L1315.2344,765 L1315.2344,765 L1315.75,765.625 L1315.75,766 L1315.75,766.375 L1315.2344,767 L1314.6719,767 L1312.7813,767 L1312.2656,767 L1311.75,766.375 L1311.75,766 L1311.75,765.625 L1312.2656,765 L1312.7813,765 L1312.7813,765 L1312.5,764 Z M1311.9531,762 L1310.75,758.4219 L1309.7188,762 L1311.9531,762 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="1331.25" y="767.4102">AbstractApduBuffer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1261" x2="1475" y1="778.5" y2="778.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1268" y="786.5"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1280" y="793.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="1306" y="793.9189">ByteBuffer bytes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1261" x2="1475" y1="800.3359" y2="800.3359"/><ellipse cx="1271" cy="811.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="1280" y="815.7549">AbstractApduBuffer()</text><ellipse cx="1271" cy="825.1719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="1280" y="829.5908">ByteBuffer getBytes(ByteBuffer bytes)</text><path d="M371,680 L371,902.5703 A0,0 0 0 0 371,902.5703 L667,902.5703 A0,0 0 0 0 667,902.5703 L667,690 L657,680 L476.13,680 L437.692,598.61 L468.13,680 L371,680 A0,0 0 0 0 371,680 " fill="#FBFB77" filter="url(#f1s3ywthzpb3gd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M657,680 L657,690 L667,690 L657,680 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="377" y="698.4951">- To operate the transmission of SeRequestSet,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="377" y="714.8467">a specific</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="436" y="714.8467">local</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="471" y="714.8467">reader processes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="377" y="731.1982">the sorted list of SeRequest.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="377" y="747.5498">- According to SeRequest protocolFlag and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="377" y="763.9014">to the current status of the reader (RF</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="377" y="780.2529">protocol involved / current ATR) the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="377" y="796.6045">processing of a specific SeRequest could be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="377" y="812.9561">skipped.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="377" y="829.3076">- When processing a SeRequest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="385" y="845.6592">o if necessary a new logical channel is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="385" y="862.0107">open (for a specific AID if defined)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="385" y="878.3623">o and ApduRequest are transmited one by</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="385" y="894.7139">one</text><path d="M128,104.5 L128,179.9063 A0,0 0 0 0 128,179.9063 L355,179.9063 L359,285.34 L363,179.9063 L590,179.9063 A0,0 0 0 0 590,179.9063 L590,114.5 L580,104.5 L128,104.5 A0,0 0 0 0 128,104.5 " fill="#FBFB77" filter="url(#f1s3ywthzpb3gd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M580,104.5 L580,114.5 L590,114.5 L580,104.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="441" x="134" y="122.9951">- A SeRequestSet could contain several SeRequest to manage the selection</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="134" y="139.3467">of different types of PO application.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="418" x="134" y="155.6982">- To exchange APDU commands with a soecific selected PO application</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="134" y="172.0498">a single SeRequest is necessary.</text><path d="M752.5,104.5 L752.5,179.9063 A0,0 0 0 0 752.5,179.9063 L969,179.9063 L973,257.15 L977,179.9063 L1193.5,179.9063 A0,0 0 0 0 1193.5,179.9063 L1193.5,114.5 L1183.5,104.5 L752.5,104.5 A0,0 0 0 0 752.5,104.5 " fill="#FBFB77" filter="url(#f1s3ywthzpb3gd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1183.5,104.5 L1183.5,114.5 L1193.5,114.5 L1183.5,104.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="758.5" y="122.9951">- For PO requiring an AID selection, the aidToSelect should be defined</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="420" x="758.5" y="139.3467">with non null value. For PO not supporting AID selection, the aidToSelect</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="758.5" y="155.6982">should be defined as null.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="758.5" y="172.0498">- The protocolFlag parameter is optional.</text><!--MD5=[9a52c97e20ed6cbbda1683ac59bdea57]
class ContactlessProtocols--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="186.3594" id="ContactlessProtocols" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="884.5" y="698.5"/><ellipse cx="899.5" cy="714.5" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M898,715.5 L898,717.5 L902,717.5 L902,716.5 L902,716.0156 L902.625,715.5 L903,715.5 L903.375,715.5 L904,716.0156 L904,716.5 L904,719.5 L896,719.5 L895.5156,719.5 L895,718.875 L895,718.5 L895,718.125 L895.5156,717.5 L896,717.5 L896,717.5 L896,711.5 L896,711.5 L895.5156,711.5 L895,710.875 L895,710.5 L895,710.125 L895.5156,709.5 L896,709.5 L904,709.5 L904,712.5 L904,712.9844 L903.375,713.5 L903,713.5 L902.625,713.5 L902,712.9844 L902,712.5 L902,711.5 L898,711.5 L898,713.5 L899,713.5 L899,713.0156 L899,713.0156 L899.625,712.5 L900,712.5 L900.375,712.5 L901,713.0156 L901,713.5 L901,715.5 L901,715.9844 L900.375,716.5 L900.375,716.5 L900,716.5 L899.625,716.5 L899,715.9844 L899,715.9844 L899,715.5 L898,715.5 Z "/><ellipse cx="918.5" cy="714" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="924.5" y="719.4102">ContactlessProtocols</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="885.5" x2="1044.5" y1="730.5" y2="730.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="890.5" y="763.7549">PROTOCOL_ISO14443_4</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="885.5" x2="943.5" y1="745.418" y2="745.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="943.5" y="749.4189">standard</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="986.5" x2="1044.5" y1="745.418" y2="745.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="890.5" y="795.4268">PROTOCOL_ISO14443_3A</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="890.5" y="809.2627">PROTOCOL_ISO14443_3B</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="890.5" y="823.0986">PROTOCOL_B_PRIME</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="890.5" y="836.9346">PROTOCOL_MIFARE_UL</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="890.5" y="850.7705">PROTOCOL_MIFARE_CLASSIC</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="890.5" y="864.6064">PROTOCOL_MIFARE_DESFIRE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="890.5" y="878.4424">PROTOCOL_MEMORY_ST25</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="885.5" x2="938.5" y1="777.0898" y2="777.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="938.5" y="781.0908">proprietary</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="991.5" x2="1044.5" y1="777.0898" y2="777.0898"/><!--MD5=[1f77823a9fa9f7cff4a4cfb1c425e853]
class ContactsProtocols--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="71.6719" id="ContactsProtocols" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="1081" y="755.5"/><ellipse cx="1096" cy="771.5" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1094.5,772.5 L1094.5,774.5 L1098.5,774.5 L1098.5,773.5 L1098.5,773.0156 L1099.125,772.5 L1099.5,772.5 L1099.875,772.5 L1100.5,773.0156 L1100.5,773.5 L1100.5,776.5 L1092.5,776.5 L1092.0156,776.5 L1091.5,775.875 L1091.5,775.5 L1091.5,775.125 L1092.0156,774.5 L1092.5,774.5 L1092.5,774.5 L1092.5,768.5 L1092.5,768.5 L1092.0156,768.5 L1091.5,767.875 L1091.5,767.5 L1091.5,767.125 L1092.0156,766.5 L1092.5,766.5 L1100.5,766.5 L1100.5,769.5 L1100.5,769.9844 L1099.875,770.5 L1099.5,770.5 L1099.125,770.5 L1098.5,769.9844 L1098.5,769.5 L1098.5,768.5 L1094.5,768.5 L1094.5,770.5 L1095.5,770.5 L1095.5,770.0156 L1095.5,770.0156 L1096.125,769.5 L1096.5,769.5 L1096.875,769.5 L1097.5,770.0156 L1097.5,770.5 L1097.5,772.5 L1097.5,772.9844 L1096.875,773.5 L1096.875,773.5 L1096.5,773.5 L1096.125,773.5 L1095.5,772.9844 L1095.5,772.9844 L1095.5,772.5 L1094.5,772.5 Z "/><ellipse cx="1115" cy="771" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="1121" y="776.4102">ContactsProtocols</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1082" x2="1224" y1="787.5" y2="787.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1087" y="820.7549">PROTOCOL_ISO7816_3</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1082" x2="1131.5" y1="802.418" y2="802.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="1131.5" y="806.4189">standard</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1174.5" x2="1224" y1="802.418" y2="802.418"/><!--MD5=[47d2fe9fece24246b5a935562bf2f0bf]
class SeProtocolSettings--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="75.6719" id="SeProtocolSettings" style="stroke: #A80036; stroke-width: 1.5;" width="147" x="702.5" y="753.5"/><ellipse cx="717.5" cy="769.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M718.5,766.5 L718.5,772.5 L720.5,772.5 L720.9844,772.5 L721.5,773.125 L721.5,773.5 L721.5,773.875 L720.9844,774.5 L720.5,774.5 L714.5,774.5 L714.0156,774.5 L713.5,773.875 L713.5,773.5 L713.5,773.125 L714.0156,772.5 L714.5,772.5 L716.5,772.5 L716.5,766.5 L714.5,766.5 L714.0156,766.5 L713.5,765.875 L713.5,765.5 L713.5,765.125 L714.0156,764.5 L714.5,764.5 L720.5,764.5 L720.9844,764.5 L721.5,765.125 L721.5,765.5 L721.5,765.875 L720.9844,766.5 L720.5,766.5 L718.5,766.5 Z "/><ellipse cx="736.5" cy="769" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="742.5" y="774.4102">SeProtocolSettings</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="703.5" x2="848.5" y1="785.5" y2="785.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="703.5" x2="848.5" y1="793.5" y2="793.5"/><ellipse cx="713.5" cy="804.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="722.5" y="808.9189">SeProtocol getFlag();</text><ellipse cx="713.5" cy="818.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="722.5" y="822.7549">String getValue();</text><!--MD5=[ae130e14af123983b35f18256069f467]
class ByteBufferUtils--><rect fill="#FEFECE" filter="url(#f1s3ywthzpb3gd)" height="172.5234" id="ByteBufferUtils" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="359" y="1407"/><ellipse cx="462.75" cy="1423" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M464.75,1419.5 Q464.9531,1419 465.1875,1418.75 Q465.4219,1418.5 465.6875,1418.5 Q466.1563,1418.5 466.4531,1418.7813 Q466.75,1419.0625 466.75,1419.7188 L466.75,1421.2813 Q466.75,1421.9375 466.4688,1422.2188 Q466.1875,1422.5 465.75,1422.5 Q465.3594,1422.5 465.1094,1422.3281 Q464.8594,1422.1563 464.75,1421.7031 Q464.7031,1421.3906 464.5313,1421.2188 Q464.2188,1420.8906 463.6563,1420.7031 Q463.0938,1420.5 462.5313,1420.5 Q461.8281,1420.5 461.2344,1420.7813 Q460.6563,1421.0625 460.2031,1421.6875 Q459.75,1422.3125 459.75,1423.1719 L459.75,1424.0938 Q459.75,1425.125 460.5938,1425.8125 Q461.4375,1426.5 462.9375,1426.5 Q463.8281,1426.5 464.4531,1426.2969 Q464.8125,1426.1875 465.2188,1425.8281 Q465.4844,1425.625 465.625,1425.5625 Q465.7656,1425.5 465.9375,1425.5 Q466.2656,1425.5 466.5,1425.7656 Q466.75,1426.0156 466.75,1426.375 Q466.75,1426.7188 466.4063,1427.125 Q465.9063,1427.7188 465.1094,1428.0469 Q464.0625,1428.5 462.7813,1428.5 Q461.2813,1428.5 460.0781,1427.9063 Q459.1094,1427.4375 458.4219,1426.4219 Q457.75,1425.4063 457.75,1424.2031 L457.75,1423.1094 Q457.75,1421.8594 458.3438,1420.7656 Q458.9531,1419.6719 460,1419.0938 Q461.0625,1418.5 462.25,1418.5 Q462.9688,1418.5 463.5938,1418.75 Q464.2188,1419 464.75,1419.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="483.25" y="1427.9102">ByteBufferUtils</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="360" x2="654" y1="1439" y2="1439"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="360" x2="654" y1="1447" y2="1447"/><ellipse cx="370" cy="1458" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="154" x="379" y="1462.4189">ByteBuffer fromHex(String hex)</text><ellipse cx="370" cy="1471.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="153" x="379" y="1476.2549">String toHex(ByteBuffer buffer)</text><ellipse cx="370" cy="1485.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="188" x="379" y="1490.0908">String toHex(List&lt;ByteBuffer&gt; buffers)</text><ellipse cx="370" cy="1499.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="168" x="379" y="1503.9268">String toHex(ByteBuffer... buffers)</text><ellipse cx="370" cy="1513.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="264" x="379" y="1517.7627">String toHexCutLen(ByteBuffer buffer, int... cutLength)</text><ellipse cx="370" cy="1527.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="161" x="379" y="1531.5986">byte[] toBytes(ByteBuffer buffer)</text><ellipse cx="370" cy="1541.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="260" x="379" y="1545.4346">ByteBuffer subIndex(ByteBuffer buf, int start, int end)</text><ellipse cx="370" cy="1554.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="270" x="379" y="1559.2705">ByteBuffer subLen(ByteBuffer buf, int offset, int length)</text><ellipse cx="370" cy="1568.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="259" x="379" y="1573.1064">ByteBuffer concat(ByteBuffer buf1, ByteBuffer buf2)</text><!--MD5=[ad4a9edf5bde4c1c8f32f1d65e8545c9]
entity ##15229--><!--MD5=[6e014948b7a1812a76f1f199e926087d]
link SeRequestSet to ProxyReader--><path d="M375.634,402.52 C385.31,435.99 397.318,477.51 406.243,508.38 " fill="none" id="SeRequestSet-ProxyReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="411,471.5,414,465.5,417,471.5,411,471.5" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="398" y="487.9951">sends</text><!--MD5=[2a9c764860a050664632030a49931855]
link ProxyReader to SeResponseSet--><path d="M377.878,598.61 C342.557,636.502 291.384,691.397 252.811,732.775 " fill="none" id="ProxyReader-SeResponseSet" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="349" y="642.9951">receives</text><polygon fill="#000000" points="368,651.8516,371,657.8516,374,651.8516,368,651.8516" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[ea084994cba1846386994ff718cb9d41]
link SeRequestSet to SeRequest--><path d="M517.288,344 C517.288,344 594.497,344 635.049,344 " fill="none" id="SeRequestSet-SeRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="648.237,344,639.237,340,643.237,344,639.237,348,648.237,344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="643.237" x2="635.2375" y1="344" y2="344"/><polygon fill="#FFFFFF" points="505.288,344,511.288,348,517.288,344,511.288,340,505.288,344" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="523.25" y="337.4951">sortedSeRequests</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="512.9066" y="357.8868">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="632.5316" y="341.3173">+</text><!--MD5=[f2a189b9c1aaca94cfda8cb7f338ac73]
link SeRequest to ApduRequest--><path d="M1052.4881,439.797 C1052.4881,439.797 1086.65,480.53 1101.44,498.17 " fill="none" id="SeRequest-ApduRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1109.89,508.24,1107.1759,498.7725,1106.6788,504.4075,1101.0438,503.9104,1109.89,508.24" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1106.6788" x2="1101.535" y1="504.4075" y2="498.28"/><polygon fill="#FFFFFF" points="1044.78,430.6,1045.5684,437.7679,1052.4881,439.797,1051.6997,432.6291,1044.78,430.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="1081" y="474.9951">apduRequests</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="1027.6234" y="451.6666">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1098.8247" y="497.6443">*</text><!--MD5=[3ec2e54ad09c0e004ebc65e365b26d26]
link ApduRequest to AbstractApduBuffer--><path d="M1188.68,598.78 C1205.01,616.14 1223.89,636.243 1241,654.5 C1264.67,679.76 1290.77,707.7 1313.12,731.651 " fill="none" id="ApduRequest-&gt;AbstractApduBuffer" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1318.33,726.968,1326.86,746.366,1308.09,736.519,1318.33,726.968" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1234" y="642.9951">extends</text><!--MD5=[fc61643553f4966e260a11834e7c76f7]
reverse link AbstractApduBuffer to ApduResponse--><path d="M1314.35,850.753 C1293.1,871.216 1267.43,892.955 1241,908.5 C1179.08,944.915 1104.2,971.851 1039.78,990.596 " fill="none" id="AbstractApduBuffer&lt;-ApduResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1309.54,845.668,1328.66,836.535,1319.41,855.599,1309.54,845.668" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1188" y="947.4951">extends</text><!--MD5=[9bc678d6913a7cbd7596306694c0a870]
link ApduResponse to SeResponse--><path d="M799.527,1077.248 C762.864,1096.957 676.8609,1143.1897 676.8609,1143.1897 " fill="none" id="ApduResponse-SeResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="666.291,1148.871,673.4697,1149.5537,676.8609,1143.1897,669.6822,1142.5071,666.291,1148.871" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="811.139,1071.005,801.3178,1071.7426,806.7349,1073.3722,805.1053,1078.7892,811.139,1071.005" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="806.7349" x2="799.689" y1="1073.3722" y2="1077.1605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="746" y="1115.4951">apduResponses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="794.2757" y="1092.0133">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="657.0348" y="1138.2695">0..1</text><!--MD5=[e705edb26223dc3f9f412f750258b3f5]
link SeResponseSet to SeResponse--><path d="M246.127,860.1291 C246.127,860.1291 381.416,1054.279 439.641,1137.836 " fill="none" id="SeResponseSet-SeResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="447.152,1148.614,445.288,1138.9431,444.2932,1144.5119,438.7245,1143.5171,447.152,1148.614" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444.2932" x2="439.72" y1="1144.5119" y2="1137.9485"/><polygon fill="#FFFFFF" points="239.266,850.284,239.4148,857.4936,246.127,860.1291,245.9782,852.9196,239.266,850.284" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="390" y="1031.4951">seResponses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="220.6499" y="871.511">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="433.8646" y="1138.2857">+</text><!--MD5=[24872398f355858e9208a7152dda074a]
reverse link SeRequest to Selector--><path d="M1312.92,344 C1319.4,344 1325.89,344 1332.37,344 " fill="none" id="SeRequest&lt;-Selector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1305.79" cy="344" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1313.79" x2="1297.79" y1="344" y2="344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1305.79" x2="1305.79" y1="352" y2="336"/><!--MD5=[cfcaa1a5eb6fd486446b79ea258501f4]
link AidSelector to Selector--><path d="M1377.89,173.38 C1381.09,207.07 1386.28,261.7 1389.9,299.83 " fill="none" id="AidSelector-&gt;Selector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1396.88,299.27,1391.8,319.84,1382.94,300.59,1396.88,299.27" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1383" y="223.9951">extends</text><!--MD5=[e6857bac5b15ba2c45a0ef601672f530]
reverse link Selector to AtrSelector--><path d="M1394,388.5 C1394,428.55 1394,486.92 1394,522.15 " fill="none" id="Selector&lt;-AtrSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1387,388.4,1394,368.4,1401,388.4,1387,388.4" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1395" y="474.9951">extends</text><!--MD5=[6f5a158c7af1547eaee766994c50ba09]
reverse link SeProtocol to ContactlessProtocols--><path d="M935.91,604.95 C940.176,632.16 945.575,666.6 950.56,698.396 " fill="none" id="SeProtocol&lt;-ContactlessProtocols" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="928.944,605.71,932.761,584.87,942.775,603.54,928.944,605.71" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="943" y="642.9951">extends</text><!--MD5=[c54f419de852279caf5edcb58ed02143]
reverse link SeProtocol to ContactsProtocols--><path d="M993.424,595.99 C1016.84,612.58 1042.49,632.87 1063,654.5 C1092.13,685.212 1117.93,726.435 1134.35,755.418 " fill="none" id="SeProtocol&lt;-ContactsProtocols" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="989.385,601.71,976.873,584.61,997.319,590.18,989.385,601.71" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1054" y="642.9951">extends</text><!--MD5=[58043cc5fe453b1d7bb519e1b3633d3e]
link ContactlessProtocols to ContactsProtocols--><!--MD5=[18da8cfc0fb48802b60f6fa3a621fc4c]
link SeRequest to SeProtocol--><path d="M954.437,430.6 C947.368,463.19 939.763,498.26 934.533,522.38 " fill="none" id="SeRequest-SeProtocol" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="948" y="474.9951">SE Protocol Flag</text><!--MD5=[53ec5fafa61cf8a4d970caa7122a1564]
link ProxyReader to SeProtocol--><path d="M597.023,553.5 C694.639,553.5 808.801,553.5 874.329,553.5 " fill="none" id="ProxyReader-SeProtocol" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="674.75" y="546.9951">SE Protocol Settings</text><!--MD5=[7af35e85591be70f174807588a3d67f6]
link SeProtocol to ApduRequest--><!--MD5=[ad80ceab8663a995d07f45600c4811d1]
link SeResponse to ByteBufferUtils--><!--MD5=[22c998b87f29ec80ff510b5652205129]
@startuml
package org.eclipse.keyple #FFFFFF {

package seproxy #FFFFFF {

+interface ProxyReader {
  +boolean isSePresent()
  +void addSeProtocolSetting(SeProtocolSetting seProtocolSetting);
  +SeResponseSet transmit(<b>final</b> SeRequestSet seApplicationRequest)
}

+class "<b>final</b> SeRequestSet" as SeRequestSet {
  -<b>final</b> LinkedHashSet<SeRequest> orderedSetRequests
  +SeRequestSet(Set<SeRequest> seRequests)
  +SeRequestSet(SeRequest seRequest)
  +Set<SeRequest> getRequests()
  +SeRequest getSingleRequest()
}

+class "<b>final</b> SeResponseSet" as SeResponseSet {
  -<b>final</b> ArrayList<SeResponse> seResponses
  +SeResponseSet(List<SeResponse> seResponses)
  +SeResponseSet(SeResponse seResponse)
  +List<SeResponse> getResponses()
  +SeResponse getSingleResponse()
}

+class "<b>final</b> ApduRequest" as ApduRequest {
  -boolean case4
  +ApduRequest(ByteBuffer bytes, boolean case4)
  +boolean isCase4()
}

+class "<b>final</b> ApduResponse" as ApduResponse {
  -boolean successful
  +ApduResponse(ByteBuffer bytes, boolean successful)
  +boolean isSuccessful()
}

+class "<b>final</b> SeRequest" as SeRequest {
  -Selector[0..1] selector
  -ArrayList<ApduRequest> apduRequests
  -SeProtocol[0..1] protocolFlag
  -boolean keepChannelOpen
  +SeRequest(Selector[0..1] selector, List<ApduRequest> apduRequests,  boolean keepChannelOpen, SeProtocol[0..1] protocolFlag)
  +Selector getSelector()
  +List<ApduRequest> getApduRequests()
  +boolean isKeepChannelOpen()
  +SeProtocol getProtocolFlag()
}

+class "<b>final</b> SeResponse" as SeResponse {
  -boolean channelPreviouslyOpen
  -ApduResponse[0..1] atr
  -ApduResponse[0..1] fci
  -ArrayList<ApduResponse> apduResponses
  +SeResponse(boolean channelPreviouslyOpen, ApduResponse[0..1] atr, ApduResponse[0..1] fci, List<ApduResponse> apduResponses)
  +boolean wasChannelPreviouslyOpen()
  +ApduResponse getAtr()
  +ApduResponse getFci()
  +List<ApduResponse> getApduResponses()
}

+abstract "<b>static</b> Selector" as Selector {
}
+class "<b>static final</b> AidSelector" as AidSelector {
  +AidSelector(ByteBuffer aidToSelect)
}
+class "<b>static final</b> AtrSelector" as AtrSelector {
  +AtrSelector(String atrRegex)
}

+interface SeProtocol {
	+String getName()
}

package protocol #FFFFFF {

+enum ContactlessProtocols {
	.. standard ..
	PROTOCOL_ISO14443_4
	.. proprietary ..
	PROTOCOL_ISO14443_3A
	PROTOCOL_ISO14443_3B
	PROTOCOL_B_PRIME
	PROTOCOL_MIFARE_UL
	PROTOCOL_MIFARE_CLASSIC
	PROTOCOL_MIFARE_DESFIRE
	PROTOCOL_MEMORY_ST25
}

+enum ContactsProtocols {
	.. standard ..
	PROTOCOL_ISO7816_3
}

+interface SeProtocolSettings {
  +SeProtocol getFlag();
  +String getValue();
}
}

abstract AbstractApduBuffer {
  -<b>final</b> ByteBuffer bytes
  +AbstractApduBuffer()
  +ByteBuffer getBytes(ByteBuffer bytes)
}

note bottom of ProxyReader
  - To operate the transmission of SeRequestSet,
  a specific <b>local</b> reader processes
  the sorted list of SeRequest.
  - According to SeRequest protocolFlag and
  to the current status of the reader (RF
  protocol involved / current ATR) the
  processing of a specific SeRequest could be
  skipped.
  - When processing a SeRequest
    o if necessary a new logical channel is
    open (for a specific AID if defined)
    o and ApduRequest are transmited one by
    one
end note

note top of SeRequestSet
 - A SeRequestSet could contain several SeRequest to manage the selection
 of different types of PO application.
 - To exchange APDU commands with a soecific selected PO application
 a single SeRequest is necessary.
end note

note top of SeRequest
 - For PO requiring an AID selection, the aidToSelect should be defined
 with non null value. For PO not supporting AID selection, the aidToSelect
 should be defined as null.
 - The protocolFlag parameter is optional.
end note
}

package util #FFFFFF {
  class ByteBufferUtils {
    +{static}ByteBuffer fromHex(String hex)
    +{static}String toHex(ByteBuffer buffer)
    +{static}String toHex(List<ByteBuffer> buffers)
    +{static}String toHex(ByteBuffer... buffers)
    +{static}String toHexCutLen(ByteBuffer buffer, int... cutLength)
    +{static}byte[] toBytes(ByteBuffer buffer)
    +{static}ByteBuffer subIndex(ByteBuffer buf, int start, int end)
    +{static}ByteBuffer subLen(ByteBuffer buf, int offset, int length)
    +{static}ByteBuffer concat(ByteBuffer buf1, ByteBuffer buf2)
    
  }
}
}

together {
  interface SeProtocol
  enum ContactlessProtocols
  enum ContactsProtocols
  interface ProxyReader
  abstract AbstractApduBuffer
  class ApduRequest
  class ApduResponse
  class SeRequest
  class SeRequestSet
  class SeResponse
  class SeResponseSet
}





ProxyReader -up- SeRequestSet : sends >
ProxyReader -down- SeResponseSet : receives >

SeRequestSet "0..1" o-right-> "+" SeRequest : sortedSeRequests
SeRequest "0..1" o-down-> "*" ApduRequest : apduRequests

ApduRequest -down-|> AbstractApduBuffer : extends
ApduResponse -up-|> AbstractApduBuffer : extends

SeResponse "0..1" o-up-> "*" ApduResponse : apduResponses
SeResponseSet "0..1" o-right-> "+" SeResponse : seResponses

SeRequest +-right- Selector
Selector <|-up- AidSelector : extends
Selector <|-down- AtrSelector : extends

SeProtocol <|- - ContactlessProtocols : extends
SeProtocol <|- - ContactsProtocols : extends
ContactsProtocols -left[hidden]- ContactlessProtocols

SeRequest - - SeProtocol : SE Protocol Flag
ProxyReader -right- SeProtocol : SE Protocol Settings
SeProtocol -right[hidden]- ApduRequest
SeResponse -down[hidden]- ByteBufferUtils
@enduml

PlantUML version 1.2020.07(Sun Apr 19 15:42:40 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.40
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>