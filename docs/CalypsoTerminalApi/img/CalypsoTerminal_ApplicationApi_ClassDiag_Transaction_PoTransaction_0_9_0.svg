<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2364px" preserveAspectRatio="none" style="width:1216px;height:2364px;" version="1.1" viewBox="0 0 1216 2364" width="1216px" zoomAndPan="magnify"><defs><filter height="300%" id="f13pns1qd23ubl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a0ee729f83dda31870600cae83338b00]
cluster org.keyple.calypso--><polygon fill="#FFFFFF" filter="url(#f13pns1qd23ubl)" points="22,24,159,24,166,47.6094,1194,47.6094,1194,2352,22,2352,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="166" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="131" x="26" y="40.5332">org.keyple.calypso</text><!--MD5=[f9c58d90839a0c7c212d8c6553ac9eb7]
cluster transaction--><polygon fill="#FFFFFF" filter="url(#f13pns1qd23ubl)" points="46,68,131,68,138,91.6094,1170,91.6094,1170,2202,46,2202,46,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="138" y1="91.6094" y2="91.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="50" y="84.5332">transaction</text><!--MD5=[858307e347215d8034d295bce1f15f07]
class SelectFileControl--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="89.5078" id="SelectFileControl" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="747.5" y="2246"/><ellipse cx="762.5" cy="2262" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M761,2263 L761,2265 L765,2265 L765,2264 L765,2263.5156 L765.625,2263 L766,2263 L766.375,2263 L767,2263.5156 L767,2264 L767,2267 L759,2267 L758.5156,2267 L758,2266.375 L758,2266 L758,2265.625 L758.5156,2265 L759,2265 L759,2265 L759,2259 L759,2259 L758.5156,2259 L758,2258.375 L758,2258 L758,2257.625 L758.5156,2257 L759,2257 L767,2257 L767,2260 L767,2260.4844 L766.375,2261 L766,2261 L765.625,2261 L765,2260.4844 L765,2260 L765,2259 L761,2259 L761,2261 L762,2261 L762,2260.5156 L762,2260.5156 L762.625,2260 L763,2260 L763.375,2260 L764,2260.5156 L764,2261 L764,2263 L764,2263.4844 L763.375,2264 L763.375,2264 L763,2264 L762.625,2264 L762,2263.4844 L762,2263.4844 L762,2263 L761,2263 Z "/><ellipse cx="781.5" cy="2261.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="787.5" y="2266.9102">SelectFileControl</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="748.5" x2="883.5" y1="2278" y2="2278"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="753.5" y="2293.4189">FIRST_EF,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="753.5" y="2307.2549">NEXT_EF,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="753.5" y="2321.0908">CURRENT_DF</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="748.5" x2="883.5" y1="2327.5078" y2="2327.5078"/><!--MD5=[e8e21ba3995782366e9aa9ad2c6b2d5f]
class PoResource--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="PoResource" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="299" y="860.5"/><ellipse cx="349.75" cy="876.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M351.75,873 Q351.9531,872.5 352.1875,872.25 Q352.4219,872 352.6875,872 Q353.1563,872 353.4531,872.2813 Q353.75,872.5625 353.75,873.2188 L353.75,874.7813 Q353.75,875.4375 353.4688,875.7188 Q353.1875,876 352.75,876 Q352.3594,876 352.1094,875.8281 Q351.8594,875.6563 351.75,875.2031 Q351.7031,874.8906 351.5313,874.7188 Q351.2188,874.3906 350.6563,874.2031 Q350.0938,874 349.5313,874 Q348.8281,874 348.2344,874.2813 Q347.6563,874.5625 347.2031,875.1875 Q346.75,875.8125 346.75,876.6719 L346.75,877.5938 Q346.75,878.625 347.5938,879.3125 Q348.4375,880 349.9375,880 Q350.8281,880 351.4531,879.7969 Q351.8125,879.6875 352.2188,879.3281 Q352.4844,879.125 352.625,879.0625 Q352.7656,879 352.9375,879 Q353.2656,879 353.5,879.2656 Q353.75,879.5156 353.75,879.875 Q353.75,880.2188 353.4063,880.625 Q352.9063,881.2188 352.1094,881.5469 Q351.0625,882 349.7813,882 Q348.2813,882 347.0781,881.4063 Q346.1094,880.9375 345.4219,879.9219 Q344.75,878.9063 344.75,877.7031 L344.75,876.6094 Q344.75,875.3594 345.3438,874.2656 Q345.9531,873.1719 347,872.5938 Q348.0625,872 349.25,872 Q349.9688,872 350.5938,872.25 Q351.2188,872.5 351.75,873 Z "/><ellipse cx="375.25" cy="876" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="381.25" y="881.4102">PoResource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="300" x2="488" y1="892.5" y2="892.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="300" x2="488" y1="900.5" y2="900.5"/><ellipse cx="310" cy="911.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="319" y="915.9189">PoResource(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="382" y="915.9189">SeReader seReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="480" y="915.9189">,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="319" y="929.7549">CalypsoPo calypsoPo);</text><!--MD5=[f25ff1fa8fa59bbc0543eaadeb7d653a]
class CalypsoSam--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="158.6875" id="CalypsoSam" style="stroke: #A80036; stroke-width: 1.5;" width="251" x="801.5" y="819"/><ellipse cx="868.25" cy="835" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M870.25,831.5 Q870.4531,831 870.6875,830.75 Q870.9219,830.5 871.1875,830.5 Q871.6563,830.5 871.9531,830.7813 Q872.25,831.0625 872.25,831.7188 L872.25,833.2813 Q872.25,833.9375 871.9688,834.2188 Q871.6875,834.5 871.25,834.5 Q870.8594,834.5 870.6094,834.3281 Q870.3594,834.1563 870.25,833.7031 Q870.2031,833.3906 870.0313,833.2188 Q869.7188,832.8906 869.1563,832.7031 Q868.5938,832.5 868.0313,832.5 Q867.3281,832.5 866.7344,832.7813 Q866.1563,833.0625 865.7031,833.6875 Q865.25,834.3125 865.25,835.1719 L865.25,836.0938 Q865.25,837.125 866.0938,837.8125 Q866.9375,838.5 868.4375,838.5 Q869.3281,838.5 869.9531,838.2969 Q870.3125,838.1875 870.7188,837.8281 Q870.9844,837.625 871.125,837.5625 Q871.2656,837.5 871.4375,837.5 Q871.7656,837.5 872,837.7656 Q872.25,838.0156 872.25,838.375 Q872.25,838.7188 871.9063,839.125 Q871.4063,839.7188 870.6094,840.0469 Q869.5625,840.5 868.2813,840.5 Q866.7813,840.5 865.5781,839.9063 Q864.6094,839.4375 863.9219,838.4219 Q863.25,837.4063 863.25,836.2031 L863.25,835.1094 Q863.25,833.8594 863.8438,832.7656 Q864.4531,831.6719 865.5,831.0938 Q866.5625,830.5 867.75,830.5 Q868.4688,830.5 869.0938,830.75 Q869.7188,831 870.25,831.5 Z "/><ellipse cx="893.75" cy="834.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="899.75" y="839.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="926.75" y="839.9102">CalypsoSam</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="802.5" x2="1051.5" y1="851" y2="851"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="802.5" x2="1051.5" y1="859" y2="859"/><polygon fill="#4177AF" points="812.5,866,808.5,872,816.5,872" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="821.5" y="874.4189">CalypsoSam(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="885.5" y="874.4189">SeResponse selectionResponse</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="4" x="1042.5" y="874.4189">)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="824.5" y="888.2549"/><ellipse cx="812.5" cy="897.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="821.5" y="902.0908">SamRevision getSamRevision()</text><ellipse cx="812.5" cy="911.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="821.5" y="915.9268">byte[] getSerialNumber()</text><ellipse cx="812.5" cy="925.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="821.5" y="929.7627">byte getPlatform()</text><ellipse cx="812.5" cy="939.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="821.5" y="943.5986">byte getApplicationType()</text><ellipse cx="812.5" cy="953.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="821.5" y="957.4346">byte getApplicationSubType()</text><ellipse cx="812.5" cy="966.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="821.5" y="971.2705">byte getSoftwareIssuer()</text><!--MD5=[8eb5cec01ad571a9feeff1db4f73a667]
class PoTransaction--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="712.125" id="PoTransaction" style="stroke: #A80036; stroke-width: 1.5;" width="764" x="253" y="1038"/><ellipse cx="585.25" cy="1054" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M587.25,1050.5 Q587.4531,1050 587.6875,1049.75 Q587.9219,1049.5 588.1875,1049.5 Q588.6563,1049.5 588.9531,1049.7813 Q589.25,1050.0625 589.25,1050.7188 L589.25,1052.2813 Q589.25,1052.9375 588.9688,1053.2188 Q588.6875,1053.5 588.25,1053.5 Q587.8594,1053.5 587.6094,1053.3281 Q587.3594,1053.1563 587.25,1052.7031 Q587.2031,1052.3906 587.0313,1052.2188 Q586.7188,1051.8906 586.1563,1051.7031 Q585.5938,1051.5 585.0313,1051.5 Q584.3281,1051.5 583.7344,1051.7813 Q583.1563,1052.0625 582.7031,1052.6875 Q582.25,1053.3125 582.25,1054.1719 L582.25,1055.0938 Q582.25,1056.125 583.0938,1056.8125 Q583.9375,1057.5 585.4375,1057.5 Q586.3281,1057.5 586.9531,1057.2969 Q587.3125,1057.1875 587.7188,1056.8281 Q587.9844,1056.625 588.125,1056.5625 Q588.2656,1056.5 588.4375,1056.5 Q588.7656,1056.5 589,1056.7656 Q589.25,1057.0156 589.25,1057.375 Q589.25,1057.7188 588.9063,1058.125 Q588.4063,1058.7188 587.6094,1059.0469 Q586.5625,1059.5 585.2813,1059.5 Q583.7813,1059.5 582.5781,1058.9063 Q581.6094,1058.4375 580.9219,1057.4219 Q580.25,1056.4063 580.25,1055.2031 L580.25,1054.1094 Q580.25,1052.8594 580.8438,1051.7656 Q581.4531,1050.6719 582.5,1050.0938 Q583.5625,1049.5 584.75,1049.5 Q585.4688,1049.5 586.0938,1049.75 Q586.7188,1050 587.25,1050.5 Z "/><ellipse cx="610.75" cy="1053.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="616.75" y="1058.9102">PoTransaction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="254" x2="1016" y1="1070" y2="1070"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="254" x2="1016" y1="1078" y2="1078"/><ellipse cx="264" cy="1089" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="388" x="273" y="1093.4189">PoTransaction(PoResource poResource, PoSecuritySetting[0..1] securitySetting)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="276" y="1107.2549"/><ellipse cx="264" cy="1116.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1121.0908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="299" y="1121.0908">processPoCommands(ChannelControl channel)</text><ellipse cx="264" cy="1130.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1134.9268">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="299" y="1134.9268">processOpening(AccessLevel level)</text><ellipse cx="264" cy="1144.3438" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1148.7627">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="299" y="1148.7627">processPoCommandsInSession()</text><ellipse cx="264" cy="1158.1797" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1162.5986">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="299" y="1162.5986">processClosing(ChannelControl channel)</text><ellipse cx="264" cy="1172.0156" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1176.4346">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="299" y="1176.4346">processCancel(ChannelControl channel)</text><ellipse cx="264" cy="1185.8516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1190.2705">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="398" x="299" y="1190.2705">prepareManageSession(EncryptionMode encMode, AuthenticationMode authMode)</text><ellipse cx="264" cy="1199.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1204.1064">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="299" y="1204.1064">SessionSecureData getSessionSecureData()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="276" y="1217.9424"/><ellipse cx="264" cy="1227.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1231.7783">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="299" y="1231.7783">prepareCheckPinStatus()</text><ellipse cx="264" cy="1241.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1245.6143">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="299" y="1245.6143">prepareVerifyPin(String pin)</text><ellipse cx="264" cy="1255.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1259.4502">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="299" y="1259.4502">prepareVerifyPin(byte[] pin)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="276" y="1273.2861"/><ellipse cx="264" cy="1282.7031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1287.1221">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="338" x="299" y="1287.1221">prepareSvGet(SvSetting.Operation operation, SvSetting.Action action)</text><ellipse cx="264" cy="1296.5391" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1300.958">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="299" y="1300.958">prepareSvReload(int amount, int date, int time, String free)</text><ellipse cx="264" cy="1310.375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1314.7939">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="309" x="299" y="1314.7939">prepareSvReload(int amount, byte[] date, byte[] time, byte[] free)</text><ellipse cx="264" cy="1324.2109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1328.6299">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="299" y="1328.6299">prepareSvReload(int amount)</text><ellipse cx="264" cy="1338.0469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1342.4658">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="299" y="1342.4658">prepareSvDebit(int amount, int date, int time)</text><ellipse cx="264" cy="1351.8828" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1356.3018">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="299" y="1356.3018">prepareSvDebit(int amount, byte[] date, byte[] time)</text><ellipse cx="264" cy="1365.7188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1370.1377">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="299" y="1370.1377">prepareSvDebit(int amount)</text><ellipse cx="264" cy="1379.5547" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1383.9736">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="260" x="299" y="1383.9736">SvOperationSecureData getSvOperationSecureData()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="276" y="1397.8096"/><ellipse cx="264" cy="1407.2266" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1411.6455">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="299" y="1411.6455">prepareSelectFile(short lid)</text><ellipse cx="264" cy="1421.0625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1425.4814">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="299" y="1425.4814">prepareSelectFile(byte[] lid)</text><ellipse cx="264" cy="1434.8984" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1439.3174">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="299" y="1439.3174">prepareSelectFile(SelectFileControl control)</text><ellipse cx="264" cy="1448.7344" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1453.1533">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="299" y="1453.1533">prepareReadRecordFile(byte sfi, int recordNumber)</text><ellipse cx="264" cy="1462.5703" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1466.9893">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="455" x="299" y="1466.9893">prepareReadRecordFile(byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize))</text><ellipse cx="264" cy="1476.4063" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1480.8252">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="559" x="299" y="1480.8252">prepareReadSubRecordFile(byte sfi, int firstRecordNumber, int numberOfRecord, int recordOffset, int recordLength)</text><ellipse cx="264" cy="1490.2422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1494.6611">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="299" y="1494.6611">prepareReadBinaryFile(byte sfi, int dataLength, int[0..1] dataOffset)</text><ellipse cx="264" cy="1504.0781" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1508.4971">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="299" y="1508.4971">prepareReadCounterFile(byte sfi, int countersNumber)</text><ellipse cx="264" cy="1517.9141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1522.333">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="245" x="299" y="1522.333">prepareAppendRecord(byte sfi, byte[] recordData)</text><ellipse cx="264" cy="1531.75" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1536.1689">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="330" x="299" y="1536.1689">prepareUpdateRecord(byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="264" cy="1545.5859" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1550.0049">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="299" y="1550.0049">prepareWriteRecord(byte sfi, int recordNumber, byte[] recordData)</text><ellipse cx="264" cy="1559.4219" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1563.8408">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="331" x="299" y="1563.8408">prepareUpdateBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)</text><ellipse cx="264" cy="1573.2578" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1577.6768">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="322" x="299" y="1577.6768">prepareWriteBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)</text><ellipse cx="264" cy="1587.0938" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1591.5127">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="318" x="299" y="1591.5127">prepareIncreaseCounter(byte sfi, int counterNumber, int incValue)</text><ellipse cx="264" cy="1600.9297" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1605.3486">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="327" x="299" y="1605.3486">prepareDecreaseCounter(byte sfi, int counterNumber, int decValue)</text><ellipse cx="264" cy="1614.7656" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1619.1846">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="300" x="299" y="1619.1846">prepareSetCounter(byte sfi, int counterNumber, int newValue)</text><ellipse cx="264" cy="1628.6016" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1633.0205">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="712" x="299" y="1633.0205">int prepareSearchRecord(byte sfi, byte offset, SearchOffsetMode offsetMode, byte[] searchData, Byte[] searchMask, SearchReadMode readMode)</text><ellipse cx="264" cy="1642.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1646.8564">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="233" x="299" y="1646.8564">int[] getSearchResult(int searchRequestNumber)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="276" y="1660.6924"/><ellipse cx="264" cy="1670.1094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1674.5283">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="299" y="1674.5283">prepareInvalidate()</text><ellipse cx="264" cy="1683.9453" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1688.3643">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="299" y="1688.3643">prepareRehabilitate()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="276" y="1702.2002"/><ellipse cx="264" cy="1711.6172" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1716.0361">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="299" y="1716.0361">prepareChangeKey(AccessLevel level)</text><ellipse cx="264" cy="1725.4531" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1729.8721">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="299" y="1729.8721">prepareChangePin(String pin)</text><ellipse cx="264" cy="1739.2891" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="273" y="1743.708">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="299" y="1743.708">prepareChangePin(byte[] pin)</text><!--MD5=[2242c43c330acc437358859ea7f59776]
class SessionState--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="89.5078" id="SessionState" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="458.5" y="1810"/><ellipse cx="477.1" cy="1826" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M475.6,1827 L475.6,1829 L479.6,1829 L479.6,1828 L479.6,1827.5156 L480.225,1827 L480.6,1827 L480.975,1827 L481.6,1827.5156 L481.6,1828 L481.6,1831 L473.6,1831 L473.1156,1831 L472.6,1830.375 L472.6,1830 L472.6,1829.625 L473.1156,1829 L473.6,1829 L473.6,1829 L473.6,1823 L473.6,1823 L473.1156,1823 L472.6,1822.375 L472.6,1822 L472.6,1821.625 L473.1156,1821 L473.6,1821 L481.6,1821 L481.6,1824 L481.6,1824.4844 L480.975,1825 L480.6,1825 L480.225,1825 L479.6,1824.4844 L479.6,1824 L479.6,1823 L475.6,1823 L475.6,1825 L476.6,1825 L476.6,1824.5156 L476.6,1824.5156 L477.225,1824 L477.6,1824 L477.975,1824 L478.6,1824.5156 L478.6,1825 L478.6,1827 L478.6,1827.4844 L477.975,1828 L477.975,1828 L477.6,1828 L477.225,1828 L476.6,1827.4844 L476.6,1827.4844 L476.6,1827 L475.6,1827 Z "/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="493.9" y="1822.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="502.9" y="1830.9102">SessionState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="459.5" x2="582.5" y1="1842" y2="1842"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="464.5" y="1857.4189">SESSION_UNITIALIZED,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="464.5" y="1871.2549">SESSION_OPEN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="464.5" y="1885.0908">SESSION_CLOSED</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="459.5" x2="582.5" y1="1891.5078" y2="1891.5078"/><!--MD5=[bf7a0c1c8b34ad25b46528e084cfcf9f]
class SessionSetting--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="48" id="SessionSetting" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="619" y="1831"/><ellipse cx="634" cy="1847" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M636,1843.5 Q636.2031,1843 636.4375,1842.75 Q636.6719,1842.5 636.9375,1842.5 Q637.4063,1842.5 637.7031,1842.7813 Q638,1843.0625 638,1843.7188 L638,1845.2813 Q638,1845.9375 637.7188,1846.2188 Q637.4375,1846.5 637,1846.5 Q636.6094,1846.5 636.3594,1846.3281 Q636.1094,1846.1563 636,1845.7031 Q635.9531,1845.3906 635.7813,1845.2188 Q635.4688,1844.8906 634.9063,1844.7031 Q634.3438,1844.5 633.7813,1844.5 Q633.0781,1844.5 632.4844,1844.7813 Q631.9063,1845.0625 631.4531,1845.6875 Q631,1846.3125 631,1847.1719 L631,1848.0938 Q631,1849.125 631.8438,1849.8125 Q632.6875,1850.5 634.1875,1850.5 Q635.0781,1850.5 635.7031,1850.2969 Q636.0625,1850.1875 636.4688,1849.8281 Q636.7344,1849.625 636.875,1849.5625 Q637.0156,1849.5 637.1875,1849.5 Q637.5156,1849.5 637.75,1849.7656 Q638,1850.0156 638,1850.375 Q638,1850.7188 637.6563,1851.125 Q637.1563,1851.7188 636.3594,1852.0469 Q635.3125,1852.5 634.0313,1852.5 Q632.5313,1852.5 631.3281,1851.9063 Q630.3594,1851.4375 629.6719,1850.4219 Q629,1849.4063 629,1848.2031 L629,1847.1094 Q629,1845.8594 629.5938,1844.7656 Q630.2031,1843.6719 631.25,1843.0938 Q632.3125,1842.5 633.5,1842.5 Q634.2188,1842.5 634.8438,1842.75 Q635.4688,1843 636,1843.5 Z "/><ellipse cx="653" cy="1846.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="659" y="1851.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="686" y="1851.9102">SessionSetting</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="620" x2="772" y1="1863" y2="1863"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="620" x2="772" y1="1871" y2="1871"/><!--MD5=[45c40070d26b32101cf9b7ab72916b9e]
class AccessLevel--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="89.5078" id="AccessLevel" style="stroke: #A80036; stroke-width: 1.5;" width="223" x="741.5" y="2096"/><ellipse cx="808.75" cy="2112" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M807.25,2113 L807.25,2115 L811.25,2115 L811.25,2114 L811.25,2113.5156 L811.875,2113 L812.25,2113 L812.625,2113 L813.25,2113.5156 L813.25,2114 L813.25,2117 L805.25,2117 L804.7656,2117 L804.25,2116.375 L804.25,2116 L804.25,2115.625 L804.7656,2115 L805.25,2115 L805.25,2115 L805.25,2109 L805.25,2109 L804.7656,2109 L804.25,2108.375 L804.25,2108 L804.25,2107.625 L804.7656,2107 L805.25,2107 L813.25,2107 L813.25,2110 L813.25,2110.4844 L812.625,2111 L812.25,2111 L811.875,2111 L811.25,2110.4844 L811.25,2110 L811.25,2109 L807.25,2109 L807.25,2111 L808.25,2111 L808.25,2110.5156 L808.25,2110.5156 L808.875,2110 L809.25,2110 L809.625,2110 L810.25,2110.5156 L810.25,2111 L810.25,2113 L810.25,2113.4844 L809.625,2114 L809.625,2114 L809.25,2114 L808.875,2114 L808.25,2113.4844 L808.25,2113.4844 L808.25,2113 L807.25,2113 Z "/><ellipse cx="834.25" cy="2111.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="840.25" y="2116.9102">AccessLevel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="742.5" x2="963.5" y1="2128" y2="2128"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="742.5" x2="963.5" y1="2136" y2="2136"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="747.5" y="2151.4189">SESSION_LVL_PERSO("perso", byte 0x01),</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="747.5" y="2165.2549">SESSION_LVL_LOAD("load", byte 0x02),</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="747.5" y="2179.0908">SESSION_LVL_DEBIT("debit", byte 0x03)</text><!--MD5=[e19a48d2c11a8f9a6a11f4ef9a7d8d18]
class ModificationMode--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="ModificationMode" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="509" y="1960"/><ellipse cx="524" cy="1976" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M522.5,1977 L522.5,1979 L526.5,1979 L526.5,1978 L526.5,1977.5156 L527.125,1977 L527.5,1977 L527.875,1977 L528.5,1977.5156 L528.5,1978 L528.5,1981 L520.5,1981 L520.0156,1981 L519.5,1980.375 L519.5,1980 L519.5,1979.625 L520.0156,1979 L520.5,1979 L520.5,1979 L520.5,1973 L520.5,1973 L520.0156,1973 L519.5,1972.375 L519.5,1972 L519.5,1971.625 L520.0156,1971 L520.5,1971 L528.5,1971 L528.5,1974 L528.5,1974.4844 L527.875,1975 L527.5,1975 L527.125,1975 L526.5,1974.4844 L526.5,1974 L526.5,1973 L522.5,1973 L522.5,1975 L523.5,1975 L523.5,1974.5156 L523.5,1974.5156 L524.125,1974 L524.5,1974 L524.875,1974 L525.5,1974.5156 L525.5,1975 L525.5,1977 L525.5,1977.4844 L524.875,1978 L524.875,1978 L524.5,1978 L524.125,1978 L523.5,1977.4844 L523.5,1977.4844 L523.5,1977 L522.5,1977 Z "/><ellipse cx="543" cy="1975.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="549" y="1980.9102">ModificationMode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="510" x2="646" y1="1992" y2="1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="515" y="2007.4189">ATOMIC,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="515" y="2021.2549">MULTIPLE</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="510" x2="646" y1="2027.6719" y2="2027.6719"/><!--MD5=[139c679d0f2db6318e7e57d2f6dd7d7b]
class RatificationMode--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="RatificationMode" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="719" y="1960"/><ellipse cx="734" cy="1976" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M732.5,1977 L732.5,1979 L736.5,1979 L736.5,1978 L736.5,1977.5156 L737.125,1977 L737.5,1977 L737.875,1977 L738.5,1977.5156 L738.5,1978 L738.5,1981 L730.5,1981 L730.0156,1981 L729.5,1980.375 L729.5,1980 L729.5,1979.625 L730.0156,1979 L730.5,1979 L730.5,1979 L730.5,1973 L730.5,1973 L730.0156,1973 L729.5,1972.375 L729.5,1972 L729.5,1971.625 L730.0156,1971 L730.5,1971 L738.5,1971 L738.5,1974 L738.5,1974.4844 L737.875,1975 L737.5,1975 L737.125,1975 L736.5,1974.4844 L736.5,1974 L736.5,1973 L732.5,1973 L732.5,1975 L733.5,1975 L733.5,1974.5156 L733.5,1974.5156 L734.125,1974 L734.5,1974 L734.875,1974 L735.5,1974.5156 L735.5,1975 L735.5,1977 L735.5,1977.4844 L734.875,1978 L734.875,1978 L734.5,1978 L734.125,1978 L733.5,1977.4844 L733.5,1977.4844 L733.5,1977 L732.5,1977 Z "/><ellipse cx="753" cy="1975.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="759" y="1980.9102">RatificationMode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="720" x2="852" y1="1992" y2="1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="725" y="2007.4189">CLOSE_RATIFIED,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="725" y="2021.2549">CLOSE_NOT_RATIFIED</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="720" x2="852" y1="2027.6719" y2="2027.6719"/><!--MD5=[ce8182edd4590e04a2102797ac389b3e]
class EncryptionMode--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="EncryptionMode" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="888" y="1960"/><ellipse cx="903" cy="1976" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M901.5,1977 L901.5,1979 L905.5,1979 L905.5,1978 L905.5,1977.5156 L906.125,1977 L906.5,1977 L906.875,1977 L907.5,1977.5156 L907.5,1978 L907.5,1981 L899.5,1981 L899.0156,1981 L898.5,1980.375 L898.5,1980 L898.5,1979.625 L899.0156,1979 L899.5,1979 L899.5,1979 L899.5,1973 L899.5,1973 L899.0156,1973 L898.5,1972.375 L898.5,1972 L898.5,1971.625 L899.0156,1971 L899.5,1971 L907.5,1971 L907.5,1974 L907.5,1974.4844 L906.875,1975 L906.5,1975 L906.125,1975 L905.5,1974.4844 L905.5,1974 L905.5,1973 L901.5,1973 L901.5,1975 L902.5,1975 L902.5,1974.5156 L902.5,1974.5156 L903.125,1974 L903.5,1974 L903.875,1974 L904.5,1974.5156 L904.5,1975 L904.5,1977 L904.5,1977.4844 L903.875,1978 L903.875,1978 L903.5,1978 L903.125,1978 L902.5,1977.4844 L902.5,1977.4844 L902.5,1977 L901.5,1977 Z "/><ellipse cx="922" cy="1975.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="928" y="1980.9102">EncryptionMode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="889" x2="1017" y1="1992" y2="1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="894" y="2007.4189">ACTIVATE,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="894" y="2021.2549">DEACTIVATE</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="889" x2="1017" y1="2027.6719" y2="2027.6719"/><!--MD5=[587c29523c7e651cb28d7191d1daa746]
class AuthenticationMode--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="AuthenticationMode" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="503" y="2103"/><ellipse cx="518" cy="2119" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M516.5,2120 L516.5,2122 L520.5,2122 L520.5,2121 L520.5,2120.5156 L521.125,2120 L521.5,2120 L521.875,2120 L522.5,2120.5156 L522.5,2121 L522.5,2124 L514.5,2124 L514.0156,2124 L513.5,2123.375 L513.5,2123 L513.5,2122.625 L514.0156,2122 L514.5,2122 L514.5,2122 L514.5,2116 L514.5,2116 L514.0156,2116 L513.5,2115.375 L513.5,2115 L513.5,2114.625 L514.0156,2114 L514.5,2114 L522.5,2114 L522.5,2117 L522.5,2117.4844 L521.875,2118 L521.5,2118 L521.125,2118 L520.5,2117.4844 L520.5,2117 L520.5,2116 L516.5,2116 L516.5,2118 L517.5,2118 L517.5,2117.5156 L517.5,2117.5156 L518.125,2117 L518.5,2117 L518.875,2117 L519.5,2117.5156 L519.5,2118 L519.5,2120 L519.5,2120.4844 L518.875,2121 L518.875,2121 L518.5,2121 L518.125,2121 L517.5,2120.4844 L517.5,2120.4844 L517.5,2120 L516.5,2120 Z "/><ellipse cx="537" cy="2118.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="543" y="2123.9102">AuthenticationMode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="504" x2="652" y1="2135" y2="2135"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="509" y="2150.4189">REQUESTED,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="509" y="2164.2549">NOT_REQUESTED</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="504" x2="652" y1="2170.6719" y2="2170.6719"/><!--MD5=[69e7de8796175c80a787a8fe6d04a077]
class PinTransmissionMode--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="PinTransmissionMode" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="808" y="1817"/><ellipse cx="823" cy="1833" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M821.5,1834 L821.5,1836 L825.5,1836 L825.5,1835 L825.5,1834.5156 L826.125,1834 L826.5,1834 L826.875,1834 L827.5,1834.5156 L827.5,1835 L827.5,1838 L819.5,1838 L819.0156,1838 L818.5,1837.375 L818.5,1837 L818.5,1836.625 L819.0156,1836 L819.5,1836 L819.5,1836 L819.5,1830 L819.5,1830 L819.0156,1830 L818.5,1829.375 L818.5,1829 L818.5,1828.625 L819.0156,1828 L819.5,1828 L827.5,1828 L827.5,1831 L827.5,1831.4844 L826.875,1832 L826.5,1832 L826.125,1832 L825.5,1831.4844 L825.5,1831 L825.5,1830 L821.5,1830 L821.5,1832 L822.5,1832 L822.5,1831.5156 L822.5,1831.5156 L823.125,1831 L823.5,1831 L823.875,1831 L824.5,1831.5156 L824.5,1832 L824.5,1834 L824.5,1834.4844 L823.875,1835 L823.875,1835 L823.5,1835 L823.125,1835 L822.5,1834.4844 L822.5,1834.4844 L822.5,1834 L821.5,1834 Z "/><ellipse cx="842" cy="1832.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="848" y="1837.9102">PinTransmissionMode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="809" x2="975" y1="1849" y2="1849"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="814" y="1864.4189">PLAIN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="814" y="1878.2549">ENCRYPTED</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="809" x2="975" y1="1884.6719" y2="1884.6719"/><!--MD5=[2296a6a537aebb6d062261368584c4c8]
class PoRevokedService--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="61.8359" id="PoRevokedService" style="stroke: #A80036; stroke-width: 1.5;" width="186" x="86" y="151"/><ellipse cx="117.65" cy="167" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M118.65,164 L118.65,170 L120.65,170 L121.1344,170 L121.65,170.625 L121.65,171 L121.65,171.375 L121.1344,172 L120.65,172 L114.65,172 L114.1656,172 L113.65,171.375 L113.65,171 L113.65,170.625 L114.1656,170 L114.65,170 L116.65,170 L116.65,164 L114.65,164 L114.1656,164 L113.65,163.375 L113.65,163 L113.65,162.625 L114.1656,162 L114.65,162 L120.65,162 L121.1344,162 L121.65,162.625 L121.65,163 L121.65,163.375 L121.1344,164 L120.65,164 L118.65,164 Z "/><ellipse cx="140.35" cy="166.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="146.35" y="171.9102">PoRevokedService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="87" x2="271" y1="183" y2="183"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="87" x2="271" y1="191" y2="191"/><ellipse cx="97" cy="202" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="106" y="206.4189">isPoRevoked(byte[] 8bytesSerial)</text><path d="M307,128 L307,236.1094 L769,236.1094 L769,138 L759,128 L307,128 " fill="#FBFB77" filter="url(#f13pns1qd23ubl)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M759,128 L759,138 L769,138 L759,128 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="313" y="146.4951">Default values in PoTransaction if PoSecuritySetting doesn't specify it:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="321" y="162.8467">- session ModificationMode as ATOMIC</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="433" x="321" y="179.1982">- session RatificationMode as CLOSE_RATIFIED in contacts transmission,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="329" y="195.5498">or as CLOSE_NOT_RATIFIED for a contactless transmission</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="321" y="211.9014">- PinTransmissionMode as ENCRYPTED if PoSecurity defined</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="321" y="228.2529">- any KVC value is authorized</text><!--MD5=[80e74f8fe2d788e9d347a51040ef83af]
class SamRevokedService--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="61.8359" id="SamRevokedService" style="stroke: #A80036; stroke-width: 1.5;" width="326" x="804" y="151"/><ellipse cx="898.75" cy="167" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M899.75,164 L899.75,170 L901.75,170 L902.2344,170 L902.75,170.625 L902.75,171 L902.75,171.375 L902.2344,172 L901.75,172 L895.75,172 L895.2656,172 L894.75,171.375 L894.75,171 L894.75,170.625 L895.2656,170 L895.75,170 L897.75,170 L897.75,164 L895.75,164 L895.2656,164 L894.75,163.375 L894.75,163 L894.75,162.625 L895.2656,162 L895.75,162 L901.75,162 L902.2344,162 L902.75,162.625 L902.75,163 L902.75,163.375 L902.2344,164 L901.75,164 L899.75,164 Z "/><ellipse cx="924.25" cy="166.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="117" x="930.25" y="171.9102">SamRevokedService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="805" x2="1129" y1="183" y2="183"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="805" x2="1129" y1="191" y2="191"/><ellipse cx="815" cy="202" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="300" x="824" y="206.4189">isSamRevoked(byte[] 4bytesSerial, byte[][0..1] 3bytesCounter)</text><!--MD5=[1ac61061803296a84828c176919fd8e8]
class PoHceService--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="61.8359" id="PoHceService" style="stroke: #A80036; stroke-width: 1.5;" width="317" x="125.5" y="496.5"/><ellipse cx="235.25" cy="512.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M236.25,509.5 L236.25,515.5 L238.25,515.5 L238.7344,515.5 L239.25,516.125 L239.25,516.5 L239.25,516.875 L238.7344,517.5 L238.25,517.5 L232.25,517.5 L231.7656,517.5 L231.25,516.875 L231.25,516.5 L231.25,516.125 L231.7656,515.5 L232.25,515.5 L234.25,515.5 L234.25,509.5 L232.25,509.5 L231.7656,509.5 L231.25,508.875 L231.25,508.5 L231.25,508.125 L231.7656,507.5 L232.25,507.5 L238.25,507.5 L238.7344,507.5 L239.25,508.125 L239.25,508.5 L239.25,508.875 L238.7344,509.5 L238.25,509.5 L236.25,509.5 Z "/><ellipse cx="260.75" cy="512" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="266.75" y="517.4102">PoHceService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="126.5" x2="441.5" y1="528.5" y2="528.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="126.5" x2="441.5" y1="536.5" y2="536.5"/><ellipse cx="136.5" cy="547.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="291" x="145.5" y="551.9189">boolean isCalypsoSerialExpired(byte[] 2bytesExpirationData)</text><!--MD5=[e4d4ea7db949ad9d239210033b878e09]
class PoSecuritySetting--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="463.0781" id="PoSecuritySetting" style="stroke: #A80036; stroke-width: 1.5;" width="315" x="477.5" y="296"/><ellipse cx="563.75" cy="312" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M565.75,308.5 Q565.9531,308 566.1875,307.75 Q566.4219,307.5 566.6875,307.5 Q567.1563,307.5 567.4531,307.7813 Q567.75,308.0625 567.75,308.7188 L567.75,310.2813 Q567.75,310.9375 567.4688,311.2188 Q567.1875,311.5 566.75,311.5 Q566.3594,311.5 566.1094,311.3281 Q565.8594,311.1563 565.75,310.7031 Q565.7031,310.3906 565.5313,310.2188 Q565.2188,309.8906 564.6563,309.7031 Q564.0938,309.5 563.5313,309.5 Q562.8281,309.5 562.2344,309.7813 Q561.6563,310.0625 561.2031,310.6875 Q560.75,311.3125 560.75,312.1719 L560.75,313.0938 Q560.75,314.125 561.5938,314.8125 Q562.4375,315.5 563.9375,315.5 Q564.8281,315.5 565.4531,315.2969 Q565.8125,315.1875 566.2188,314.8281 Q566.4844,314.625 566.625,314.5625 Q566.7656,314.5 566.9375,314.5 Q567.2656,314.5 567.5,314.7656 Q567.75,315.0156 567.75,315.375 Q567.75,315.7188 567.4063,316.125 Q566.9063,316.7188 566.1094,317.0469 Q565.0625,317.5 563.7813,317.5 Q562.2813,317.5 561.0781,316.9063 Q560.1094,316.4375 559.4219,315.4219 Q558.75,314.4063 558.75,313.2031 L558.75,312.1094 Q558.75,310.8594 559.3438,309.7656 Q559.9531,308.6719 561,308.0938 Q562.0625,307.5 563.25,307.5 Q563.9688,307.5 564.5938,307.75 Q565.2188,308 565.75,308.5 Z "/><ellipse cx="589.25" cy="311.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="595.25" y="316.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="622.25" y="316.9102">PoSecuritySetting</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="478.5" x2="791.5" y1="328" y2="328"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="478.5" x2="791.5" y1="336" y2="336"/><ellipse cx="488.5" cy="347" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="497.5" y="351.4189">PoSecuritySetting(SamResource samResource);</text><ellipse cx="488.5" cy="360.8359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="497.5" y="365.2549">setPoRevokedService(PoRevokedService revokedPo)</text><ellipse cx="488.5" cy="374.6719" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="497.5" y="379.0908">setSamRevokedService(SamRevokedService revokedSam)</text><ellipse cx="488.5" cy="388.5078" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="497.5" y="392.9268">setPoHceService(PoHceService expiredHce)</text><polygon fill="#FFFF44" points="488.5,397.3438,492.5,401.3438,488.5,405.3438,484.5,401.3438" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="497.5" y="406.7627">PoRevokedService getPoRevokedService()</text><polygon fill="#FFFF44" points="488.5,411.1797,492.5,415.1797,488.5,419.1797,484.5,415.1797" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="497.5" y="420.5986">SamRevokedService getSamRevokedService()</text><polygon fill="#FFFF44" points="488.5,425.0156,492.5,429.0156,488.5,433.0156,484.5,429.0156" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="497.5" y="434.4346">PoHceService getPoHceService()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="500.5" y="448.2705"/><ellipse cx="488.5" cy="457.6875" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="497.5" y="462.1064">loadProperties(Properties propertyFile)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="500.5" y="475.9424"/><ellipse cx="488.5" cy="485.3594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="257" x="497.5" y="489.7783">setSessionModificationMode(ModificationMode mode)</text><ellipse cx="488.5" cy="499.1953" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="249" x="497.5" y="503.6143">setSessionRatificationMode(RatificationMode mode)</text><ellipse cx="488.5" cy="513.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="497.5" y="517.4502">setSessionDefaultKif(AccessLevel level, byte kif)</text><ellipse cx="488.5" cy="526.8672" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="251" x="497.5" y="531.2861">setSessionDefaultKvc(AccessLevel level, byte kvc)</text><ellipse cx="488.5" cy="540.7031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="497.5" y="545.1221">setSessionAuthorizedKvcList(byte[] kvc)</text><polygon fill="#FFFF44" points="488.5,549.5391,492.5,553.5391,488.5,557.5391,484.5,553.5391" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="497.5" y="558.958">ModificationMode getSessionModificationMode()</text><polygon fill="#FFFF44" points="488.5,563.375,492.5,567.375,488.5,571.375,484.5,567.375" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="497.5" y="572.7939">RatificationMode getSessionRatificationMode()</text><polygon fill="#FFFF44" points="488.5,577.2109,492.5,581.2109,488.5,585.2109,484.5,581.2109" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="497.5" y="586.6299">Byte getSessionDefaultKif(AccessLevel level)</text><polygon fill="#FFFF44" points="488.5,591.0469,492.5,595.0469,488.5,599.0469,484.5,595.0469" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="497.5" y="600.4658">Byte getSessionDefaultKvc(AccessLevel level)</text><polygon fill="#FFFF44" points="488.5,604.8828,492.5,608.8828,488.5,612.8828,484.5,608.8828" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="497.5" y="614.3018">Boolean isSessionKvcAuthorized(byte kvc)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="500.5" y="628.1377"/><ellipse cx="488.5" cy="637.5547" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="260" x="497.5" y="641.9736">setPinTransmissionMode(PinTransmissionMode mode)</text><polygon fill="#FFFF44" points="488.5,646.3906,492.5,650.3906,488.5,654.3906,484.5,650.3906" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="497.5" y="655.8096">PinTransmissionMode getPinTransmissionMode()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="500.5" y="669.6455"/><ellipse cx="488.5" cy="679.0625" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="497.5" y="683.4814">setSvGetLogReadMode(LogRead readRule)</text><ellipse cx="488.5" cy="692.8984" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="289" x="497.5" y="697.3174">setSvNegativeBalanceMode(NegativeBalance authorization)</text><ellipse cx="488.5" cy="706.7344" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="497.5" y="711.1533">setSvAuthorizedKvcList(byte[] kvc)</text><polygon fill="#FFFF44" points="488.5,715.5703,492.5,719.5703,488.5,723.5703,484.5,719.5703" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="497.5" y="724.9893">LogRead getSvGetLogReadMode()</text><polygon fill="#FFFF44" points="488.5,729.4063,492.5,733.4063,488.5,737.4063,484.5,733.4063" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="497.5" y="738.8252">NegativeBalance getSvNegativeBalance()</text><polygon fill="#FFFF44" points="488.5,743.2422,492.5,747.2422,488.5,751.2422,484.5,747.2422" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="497.5" y="752.6611">Boolean isSvKvcAuthorized(byte kvc)</text><!--MD5=[43918d86839edc1befb88ea50efcfbfb]
class SamResource--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="SamResource" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="827.5" y="489.5"/><ellipse cx="877.25" cy="505.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M879.25,502 Q879.4531,501.5 879.6875,501.25 Q879.9219,501 880.1875,501 Q880.6563,501 880.9531,501.2813 Q881.25,501.5625 881.25,502.2188 L881.25,503.7813 Q881.25,504.4375 880.9688,504.7188 Q880.6875,505 880.25,505 Q879.8594,505 879.6094,504.8281 Q879.3594,504.6563 879.25,504.2031 Q879.2031,503.8906 879.0313,503.7188 Q878.7188,503.3906 878.1563,503.2031 Q877.5938,503 877.0313,503 Q876.3281,503 875.7344,503.2813 Q875.1563,503.5625 874.7031,504.1875 Q874.25,504.8125 874.25,505.6719 L874.25,506.5938 Q874.25,507.625 875.0938,508.3125 Q875.9375,509 877.4375,509 Q878.3281,509 878.9531,508.7969 Q879.3125,508.6875 879.7188,508.3281 Q879.9844,508.125 880.125,508.0625 Q880.2656,508 880.4375,508 Q880.7656,508 881,508.2656 Q881.25,508.5156 881.25,508.875 Q881.25,509.2188 880.9063,509.625 Q880.4063,510.2188 879.6094,510.5469 Q878.5625,511 877.2813,511 Q875.7813,511 874.5781,510.4063 Q873.6094,509.9375 872.9219,508.9219 Q872.25,507.9063 872.25,506.7031 L872.25,505.6094 Q872.25,504.3594 872.8438,503.2656 Q873.4531,502.1719 874.5,501.5938 Q875.5625,501 876.75,501 Q877.4688,501 878.0938,501.25 Q878.7188,501.5 879.25,502 Z "/><ellipse cx="902.75" cy="505" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="908.75" y="510.4102">SamResource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="828.5" x2="1025.5" y1="521.5" y2="521.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="828.5" x2="1025.5" y1="529.5" y2="529.5"/><ellipse cx="838.5" cy="540.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="847.5" y="544.9189">SamResource(</text><text fill="#FF0000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="919.5" y="544.9189">SeReader seReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="1017.5" y="544.9189">,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="847.5" y="558.7549">CalypsoSam calypsoSam);</text><!--MD5=[7d16591ce1ac0fb103d5c2b0f24533d6]
class SvSetting--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="48" id="SvSetting" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="130.5" y="1831"/><ellipse cx="145.5" cy="1847" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M147.5,1843.5 Q147.7031,1843 147.9375,1842.75 Q148.1719,1842.5 148.4375,1842.5 Q148.9063,1842.5 149.2031,1842.7813 Q149.5,1843.0625 149.5,1843.7188 L149.5,1845.2813 Q149.5,1845.9375 149.2188,1846.2188 Q148.9375,1846.5 148.5,1846.5 Q148.1094,1846.5 147.8594,1846.3281 Q147.6094,1846.1563 147.5,1845.7031 Q147.4531,1845.3906 147.2813,1845.2188 Q146.9688,1844.8906 146.4063,1844.7031 Q145.8438,1844.5 145.2813,1844.5 Q144.5781,1844.5 143.9844,1844.7813 Q143.4063,1845.0625 142.9531,1845.6875 Q142.5,1846.3125 142.5,1847.1719 L142.5,1848.0938 Q142.5,1849.125 143.3438,1849.8125 Q144.1875,1850.5 145.6875,1850.5 Q146.5781,1850.5 147.2031,1850.2969 Q147.5625,1850.1875 147.9688,1849.8281 Q148.2344,1849.625 148.375,1849.5625 Q148.5156,1849.5 148.6875,1849.5 Q149.0156,1849.5 149.25,1849.7656 Q149.5,1850.0156 149.5,1850.375 Q149.5,1850.7188 149.1563,1851.125 Q148.6563,1851.7188 147.8594,1852.0469 Q146.8125,1852.5 145.5313,1852.5 Q144.0313,1852.5 142.8281,1851.9063 Q141.8594,1851.4375 141.1719,1850.4219 Q140.5,1849.4063 140.5,1848.2031 L140.5,1847.1094 Q140.5,1845.8594 141.0938,1844.7656 Q141.7031,1843.6719 142.75,1843.0938 Q143.8125,1842.5 145,1842.5 Q145.7188,1842.5 146.3438,1842.75 Q146.9688,1843 147.5,1843.5 Z "/><ellipse cx="164.5" cy="1846.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="170.5" y="1851.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="197.5" y="1851.9102">SvSetting</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="131.5" x2="250.5" y1="1863" y2="1863"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="131.5" x2="250.5" y1="1871" y2="1871"/><!--MD5=[cca5d97aaf46870920fae66c9bd85cdd]
class Operation--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="Operation" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="86.5" y="1960"/><ellipse cx="101.5" cy="1976" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M100,1977 L100,1979 L104,1979 L104,1978 L104,1977.5156 L104.625,1977 L105,1977 L105.375,1977 L106,1977.5156 L106,1978 L106,1981 L98,1981 L97.5156,1981 L97,1980.375 L97,1980 L97,1979.625 L97.5156,1979 L98,1979 L98,1979 L98,1973 L98,1973 L97.5156,1973 L97,1972.375 L97,1972 L97,1971.625 L97.5156,1971 L98,1971 L106,1971 L106,1974 L106,1974.4844 L105.375,1975 L105,1975 L104.625,1975 L104,1974.4844 L104,1974 L104,1973 L100,1973 L100,1975 L101,1975 L101,1974.5156 L101,1974.5156 L101.625,1974 L102,1974 L102.375,1974 L103,1974.5156 L103,1975 L103,1977 L103,1977.4844 L102.375,1978 L102.375,1978 L102,1978 L101.625,1978 L101,1977.4844 L101,1977.4844 L101,1977 L100,1977 Z "/><ellipse cx="120.5" cy="1975.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="126.5" y="1980.9102">Operation</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="87.5" x2="182.5" y1="1992" y2="1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="92.5" y="2007.4189">RELOAD,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="92.5" y="2021.2549">DEBIT</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="87.5" x2="182.5" y1="2027.6719" y2="2027.6719"/><!--MD5=[f8e7078f77c005d15b486c0c98deb1e6]
class Action--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="Action" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="219" y="1960"/><ellipse cx="234" cy="1976" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M232.5,1977 L232.5,1979 L236.5,1979 L236.5,1978 L236.5,1977.5156 L237.125,1977 L237.5,1977 L237.875,1977 L238.5,1977.5156 L238.5,1978 L238.5,1981 L230.5,1981 L230.0156,1981 L229.5,1980.375 L229.5,1980 L229.5,1979.625 L230.0156,1979 L230.5,1979 L230.5,1979 L230.5,1973 L230.5,1973 L230.0156,1973 L229.5,1972.375 L229.5,1972 L229.5,1971.625 L230.0156,1971 L230.5,1971 L238.5,1971 L238.5,1974 L238.5,1974.4844 L237.875,1975 L237.5,1975 L237.125,1975 L236.5,1974.4844 L236.5,1974 L236.5,1973 L232.5,1973 L232.5,1975 L233.5,1975 L233.5,1974.5156 L233.5,1974.5156 L234.125,1974 L234.5,1974 L234.875,1974 L235.5,1974.5156 L235.5,1975 L235.5,1977 L235.5,1977.4844 L234.875,1978 L234.875,1978 L234.5,1978 L234.125,1978 L233.5,1977.4844 L233.5,1977.4844 L233.5,1977 L232.5,1977 Z "/><ellipse cx="253" cy="1975.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="33" x="259" y="1980.9102">Action</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="220" x2="294" y1="1992" y2="1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="225" y="2007.4189">DO,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="225" y="2021.2549">UNDO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="220" x2="294" y1="2027.6719" y2="2027.6719"/><!--MD5=[67d91b3e56e3fb89140abbb352fa8438]
class LogRead--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="LogRead" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="330" y="1960"/><ellipse cx="345" cy="1976" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M343.5,1977 L343.5,1979 L347.5,1979 L347.5,1978 L347.5,1977.5156 L348.125,1977 L348.5,1977 L348.875,1977 L349.5,1977.5156 L349.5,1978 L349.5,1981 L341.5,1981 L341.0156,1981 L340.5,1980.375 L340.5,1980 L340.5,1979.625 L341.0156,1979 L341.5,1979 L341.5,1979 L341.5,1973 L341.5,1973 L341.0156,1973 L340.5,1972.375 L340.5,1972 L340.5,1971.625 L341.0156,1971 L341.5,1971 L349.5,1971 L349.5,1974 L349.5,1974.4844 L348.875,1975 L348.5,1975 L348.125,1975 L347.5,1974.4844 L347.5,1974 L347.5,1973 L343.5,1973 L343.5,1975 L344.5,1975 L344.5,1974.5156 L344.5,1974.5156 L345.125,1974 L345.5,1974 L345.875,1974 L346.5,1974.5156 L346.5,1975 L346.5,1977 L346.5,1977.4844 L345.875,1978 L345.875,1978 L345.5,1978 L345.125,1978 L344.5,1977.4844 L344.5,1977.4844 L344.5,1977 L343.5,1977 Z "/><ellipse cx="364" cy="1975.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="370" y="1980.9102">LogRead</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="331" x2="423" y1="1992" y2="1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="336" y="2007.4189">SINGLE,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="336" y="2021.2549">ALL</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="331" x2="423" y1="2027.6719" y2="2027.6719"/><!--MD5=[50d6b8eba543a732d1dd3c761d982397]
class NegativeBalance--><rect fill="#FEFECE" filter="url(#f13pns1qd23ubl)" height="75.6719" id="NegativeBalance" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="287" y="1817"/><ellipse cx="302" cy="1833" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M300.5,1834 L300.5,1836 L304.5,1836 L304.5,1835 L304.5,1834.5156 L305.125,1834 L305.5,1834 L305.875,1834 L306.5,1834.5156 L306.5,1835 L306.5,1838 L298.5,1838 L298.0156,1838 L297.5,1837.375 L297.5,1837 L297.5,1836.625 L298.0156,1836 L298.5,1836 L298.5,1836 L298.5,1830 L298.5,1830 L298.0156,1830 L297.5,1829.375 L297.5,1829 L297.5,1828.625 L298.0156,1828 L298.5,1828 L306.5,1828 L306.5,1831 L306.5,1831.4844 L305.875,1832 L305.5,1832 L305.125,1832 L304.5,1831.4844 L304.5,1831 L304.5,1830 L300.5,1830 L300.5,1832 L301.5,1832 L301.5,1831.5156 L301.5,1831.5156 L302.125,1831 L302.5,1831 L302.875,1831 L303.5,1831.5156 L303.5,1832 L303.5,1834 L303.5,1834.4844 L302.875,1835 L302.875,1835 L302.5,1835 L302.125,1835 L301.5,1834.4844 L301.5,1834.4844 L301.5,1834 L300.5,1834 Z "/><ellipse cx="321" cy="1832.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="327" y="1837.9102">NegativeBalance</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="288" x2="422" y1="1849" y2="1849"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="293" y="1864.4189">FORBIDDEN,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="293" y="1878.2549">AUTHORIZED</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="288" x2="422" y1="1884.6719" y2="1884.6719"/><!--MD5=[d3bf6a84c114c295ec3fbc425bdfd5dd]
link PoRevokedService to N1--><!--MD5=[58adaac62f7474086b87e5028f26f048]
link N1 to SamRevokedService--><!--MD5=[c7931a5b3688f34377874a4d447492d9]
reverse link PoSecuritySetting to PoHceService--><path d="M464.03,527.5 C456.921,527.5 449.813,527.5 442.704,527.5 " fill="none" id="PoSecuritySetting&lt;-PoHceService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="477.257,527.5,471.257,523.5,465.257,527.5,471.257,531.5,477.257,527.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="462.4468" y="524.6142">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="447.4099" y="524.5031">0..1</text><!--MD5=[a40139effe78355afd96e1fe38f816a4]
reverse link PoSecuritySetting to SamResource--><path d="M805.947,527.5 C813.071,527.5 820.194,527.5 827.318,527.5 " fill="none" id="PoSecuritySetting&lt;-SamResource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="792.691,527.5,798.691,531.5,804.691,527.5,798.691,523.5,792.691,527.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="800.4987" y="524.6142">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="812.4181" y="524.4086">1</text><!--MD5=[fabfb25c6922ca0223a52cadcead3358]
link PoRevokedService to PoHceService--><!--MD5=[553a2f1231a528299e1fdd03d75ee317]
link PoHceService to PoResource--><!--MD5=[df9e65eec241e7a0900f3f2cc1715dea]
link SamRevokedService to SamResource--><!--MD5=[f5f07a045c16f9b5b991b6ad223e4b75]
reverse link SamResource to CalypsoSam--><path d="M927,578.82 C927,640.69 927,746.38 927,818.97 " fill="none" id="SamResource&lt;-CalypsoSam" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="927,565.57,923,571.57,927,577.57,931,571.57,927,565.57" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="919.4203" y="586.7517">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="919.6664" y="808.1541">1</text><!--MD5=[49b2cd243b315032ac87ae560f8bd7c4]
reverse link SvSetting to Operation--><path d="M176.2,1893.263 C168.026,1913.845 157.906,1939.327 149.741,1959.885 " fill="none" id="SvSetting&lt;-Operation" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="178.7997" cy="1886.7179" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="175.8465" x2="181.753" y1="1894.1529" y2="1879.283"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="171.3648" x2="186.2347" y1="1883.7647" y2="1889.6712"/><!--MD5=[ad0f2bead1761192d1c3cbd4a713f69a]
reverse link SvSetting to Action--><path d="M208.302,1892.964 C217.96,1913.597 229.957,1939.227 239.627,1959.885 " fill="none" id="SvSetting&lt;-Action" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="205.2902" cy="1886.5287" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="208.6814" x2="201.899" y1="1893.7743" y2="1879.283"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="198.0446" x2="212.5359" y1="1889.9199" y2="1883.1374"/><!--MD5=[40b37511570e7b53b6592a746222781a]
reverse link SvSetting to LogRead--><path d="M233.797,1888.443 C262.487,1910.191 300.279,1938.84 329.835,1961.246 " fill="none" id="SvSetting&lt;-LogRead" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="228.0894" cy="1884.1156" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="234.4648" x2="221.714" y1="1888.9482" y2="1879.283"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="223.2568" x2="232.922" y1="1890.491" y2="1877.7402"/><!--MD5=[8d1c764bcc19989851e984ffe55e2961]
reverse link SvSetting to NegativeBalance--><path d="M266.647,1855 C273.331,1855 280.015,1855 286.7,1855 " fill="none" id="SvSetting&lt;-NegativeBalance" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="259.539" cy="1855" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="267.539" x2="251.539" y1="1855" y2="1855"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259.539" x2="259.539" y1="1863" y2="1847"/><!--MD5=[6dfdeae171dfd9cd22b34147dfd49ed3]
link N1 to PoSecuritySetting--><path d="M553.05,236.29 C557.919,253.54 563.665,273.89 569.819,295.68 " fill="none" id="N1-PoSecuritySetting" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[cbb2aad232e2dbd9b1cd15526f5fb356]
link PoRevokedService to PoSecuritySetting--><path d="M211.951,213.24 C232.515,230.18 260.434,249.88 289,260 C324.908,272.72 426.927,253.1 460,272 C468.242,276.71 476.18,281.99 483.818,287.73 " fill="none" id="PoRevokedService-&gt;PoSecuritySetting" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="494.048,295.83,491.8262,288.9697,484.6391,288.382,486.8609,295.2423,494.048,295.83" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="194.1354" y="234.2644">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="482.3082" y="285.4654">1</text><!--MD5=[5d6d67a6e099206d95b683be9999b9cd]
reverse link PoSecuritySetting to SamRevokedService--><path d="M795.213,286.22 C800.072,281.33 805.002,276.58 810,272 C835.981,248.18 869.446,228.11 898.801,213.09 " fill="none" id="PoSecuritySetting&lt;-SamRevokedService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="785.961,295.79,793.0065,294.2534,794.2979,287.1589,787.2524,288.6955,785.961,295.79" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="783.7996" y="285.4241">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="861.2087" y="234.3317">0..1</text><!--MD5=[e4e6b0c197a4fe408c8d4c7214bc9356]
link PoResource to PoTransaction--><path d="M412.114,936.59 C423.128,959.15 438.42,990.46 455.883,1026.22 " fill="none" id="PoResource-&gt;PoTransaction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="461.627,1037.98,462.5836,1030.8326,456.354,1027.2006,455.3974,1034.348,461.627,1037.98" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="407.5344" y="957.7751">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="450.4815" y="1026.9461">1</text><!--MD5=[7ef23bb65cbd7f21990abf12f0f9fb41]
link PoSecuritySetting to PoTransaction--><path d="M635,759.03 C635,840.56 635,934.42 635,1024.5 " fill="none" id="PoSecuritySetting-&gt;PoTransaction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="635,1037.77,639,1031.77,635,1025.77,631,1031.77,635,1037.77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="612.6391" y="780.3892">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="627.918" y="1026.7311">1</text><!--MD5=[4e36a4e3a201b7955d2f14bdee0043a9]
reverse link PoTransaction to SessionState--><path d="M543.181,1764.692 C538.986,1781.583 535.199,1796.831 531.99,1809.751 " fill="none" id="PoTransaction&lt;-SessionState" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="544.8687" cy="1757.8971" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542.9405" x2="546.797" y1="1765.6613" y2="1750.133"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="537.1046" x2="552.6329" y1="1755.9689" y2="1759.8254"/><!--MD5=[ce3c63ddc54d4d675759c68b3655a59d]
reverse link PoTransaction to SessionSetting--><path d="M684.191,1765.146 C687.794,1792.255 690.831,1815.104 692.922,1830.84 " fill="none" id="PoTransaction&lt;-SessionSetting" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="683.2504" cy="1758.0632" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="684.3048" x2="682.196" y1="1765.9934" y2="1750.133"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="675.3202" x2="691.1806" y1="1759.1176" y2="1757.0088"/><!--MD5=[01907a979ee07ab82f1dc532a4541c2c]
reverse link SessionSetting to EncryptionMode--><path d="M751.401,1886.395 C791.405,1908.343 845.571,1938.061 887.684,1961.165 " fill="none" id="SessionSetting&lt;-EncryptionMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="745.1645" cy="1882.9735" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="752.178" x2="738.151" y1="1886.8219" y2="1879.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="741.316" x2="749.013" y1="1889.987" y2="1875.96"/><!--MD5=[19a5bab6cb0e733f5b38e95cd959a25a]
reverse link SessionSetting to ModificationMode--><path d="M666.803,1890.888 C649.254,1911.858 626.934,1938.528 609.061,1959.885 " fill="none" id="SessionSetting&lt;-ModificationMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="671.3805" cy="1885.4179" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="666.246" x2="676.515" y1="1891.5528" y2="1879.283"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="665.2456" x2="677.5154" y1="1880.2834" y2="1890.5524"/><!--MD5=[0e9a2e2ec4d6aea28d869b2d373dbe85]
reverse link SessionSetting to RatificationMode--><path d="M719.023,1892.07 C732.289,1912.853 748.933,1938.928 762.309,1959.885 " fill="none" id="SessionSetting&lt;-RatificationMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="715.1665" cy="1886.0262" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="719.471" x2="710.862" y1="1892.7695" y2="1879.283"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="708.4233" x2="721.9097" y1="1890.3307" y2="1881.7217"/><!--MD5=[d0f8f68742f1a8058f4f2e5a0ad06650]
reverse link SessionSetting to AccessLevel--><path d="M686.222,1893.908 C677.26,1937.477 669.639,2009.464 701,2060 C710.985,2076.09 725.368,2089.12 741.354,2099.618 " fill="none" id="SessionSetting&lt;-AccessLevel" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="687.7633" cy="1887.0399" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="686.0117" x2="689.515" y1="1894.8458" y2="1879.234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679.9575" x2="695.5692" y1="1885.2882" y2="1888.7915"/><!--MD5=[37e957bec1fd56bfe0d2d70b2ed06b69]
link EncryptionMode to AccessLevel--><!--MD5=[aad50e08903197c6896398c3f9217d50]
reverse link SessionSetting to AuthenticationMode--><path d="M633.837,1885.585 C575.057,1913.857 495.199,1953.162 491,1960 C467.745,1997.875 473.136,2019.304 491,2060 C498.175,2076.346 510.522,2090.821 523.696,2102.81 " fill="none" id="SessionSetting&lt;-AuthenticationMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="640.3053" cy="1882.4818" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="633.0926" x2="647.518" y1="1885.9426" y2="1879.021"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="636.8445" x2="643.7661" y1="1875.2691" y2="1889.6945"/><!--MD5=[6952bc2877cf5d205c9a3c02c8dd195c]
link ModificationMode to AuthenticationMode--><!--MD5=[079f273270ef1dd73893779fe3d467bc]
reverse link PoTransaction to PinTransmissionMode--><path d="M841.229,1763.323 C852.82,1784.025 863.059,1802.312 871.251,1816.943 " fill="none" id="PoTransaction&lt;-PinTransmissionMode" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="837.7517" cy="1757.1131" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="841.6605" x2="833.843" y1="1764.0932" y2="1750.133"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="830.7716" x2="844.7318" y1="1761.0218" y2="1753.2044"/><!--MD5=[746f3c5b2505d7b38384202071141ba9]
reverse link PoTransaction to SvSetting--><path d="M280.97,1760.991 C252.985,1789.921 229.397,1814.306 213.403,1830.84 " fill="none" id="PoTransaction&lt;-SvSetting" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="285.911" cy="1755.8832" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="280.349" x2="291.473" y1="1761.6333" y2="1750.133"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="280.1609" x2="291.6612" y1="1750.3212" y2="1761.4451"/><!--MD5=[28e38a2b5aeddf77f446bb48690e6362]
link SessionState to SessionSetting--><!--MD5=[bc4e75526f74fbb68a5aed8e4c56686a]
link SessionSetting to PinTransmissionMode--><!--MD5=[15b34b46d09c17d92f3246bd8d6b690e]
link PinTransmissionMode to SvSetting--><!--MD5=[3429ec821e60fb1fffd23386c89f33c5]
link PoTransaction to SelectFileControl--><path d="M968.005,1750.052 C976.885,1764.231 985.258,1778.565 993,1793 C1029.22,1860.543 1026.37,1883.964 1036,1960 C1050.29,2072.772 1058.11,2125.569 982,2210 C956.188,2238.633 917.896,2258.035 884.593,2270.5533 " fill="none" id="PoTransaction-SelectFileControl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[75cf09f748786ce5d6dd001ad977eb2a]
link AuthenticationMode to SelectFileControl--><!--MD5=[adfcf44a3ba784f166264aa25ffe5d12]
@startuml
package org.keyple.calypso #FFFFFF {
  package transaction #FFFFFF {

    together {
      +interface PoRevokedService {
        +isPoRevoked(byte[] 8bytesSerial)
      }

      note as N1
      Default values in PoTransaction if PoSecuritySetting doesn't specify it:
        - session ModificationMode as ATOMIC
        - session RatificationMode as CLOSE_RATIFIED in contacts transmission,
          or as CLOSE_NOT_RATIFIED for a contactless transmission
        - PinTransmissionMode as ENCRYPTED if PoSecurity defined
        - any KVC value is authorized
      end note

      +interface SamRevokedService {
        +isSamRevoked(byte[] 4bytesSerial, byte[][0..1] 3bytesCounter)
      }

      PoRevokedService -right[hidden]- N1
      SamRevokedService -left[hidden]- N1
    }

    together {
      +interface PoHceService {
        +boolean isCalypsoSerialExpired(byte[] 2bytesExpirationData)
      }

      +class "<b>final</b> PoSecuritySetting" as PoSecuritySetting {
        +PoSecuritySetting(SamResource samResource);
        +setPoRevokedService(PoRevokedService revokedPo)
        +setSamRevokedService(SamRevokedService revokedSam)
        +setPoHceService(PoHceService expiredHce)
        #PoRevokedService getPoRevokedService()
        #SamRevokedService getSamRevokedService()
        #PoHceService getPoHceService()

        +loadProperties(Properties propertyFile)

        +setSessionModificationMode(ModificationMode mode)
        +setSessionRatificationMode(RatificationMode mode)
        +setSessionDefaultKif(AccessLevel level, byte kif)
        +setSessionDefaultKvc(AccessLevel level, byte kvc)
        +setSessionAuthorizedKvcList(byte[] kvc)
        #ModificationMode getSessionModificationMode()
        #RatificationMode getSessionRatificationMode()
        #Byte getSessionDefaultKif(AccessLevel level)
        #Byte getSessionDefaultKvc(AccessLevel level)
        #Boolean isSessionKvcAuthorized(byte kvc)

        +setPinTransmissionMode(PinTransmissionMode mode)
        #PinTransmissionMode getPinTransmissionMode()

        +setSvGetLogReadMode(LogRead readRule)
        +setSvNegativeBalanceMode(NegativeBalance authorization)
        +setSvAuthorizedKvcList(byte[] kvc)
        #LogRead getSvGetLogReadMode()
        #NegativeBalance getSvNegativeBalance()
        #Boolean isSvKvcAuthorized(byte kvc)
      }

      +class SamResource {
        +SamResource(<color:red>SeReader seReader</color>,
        CalypsoSam calypsoSam);
      }

      PoHceService "0..1" -right-o "1" PoSecuritySetting
      PoSecuritySetting "1" o-right- "1" SamResource
    }

    +class PoResource {
      +PoResource(<color:red>SeReader seReader</color>,
      CalypsoPo calypsoPo);
    }

    PoRevokedService -down[hidden]- PoHceService
    PoHceService -down[hidden]- PoResource

    +class "<b>final</b> CalypsoSam" as CalypsoSam {
      ~CalypsoSam(<color:red>SeResponse selectionResponse</color>)

      +SamRevision getSamRevision()
      +byte[] getSerialNumber()
      +byte getPlatform()
      +byte getApplicationType()
      +byte getApplicationSubType()
      +byte getSoftwareIssuer()
    }

    SamRevokedService -down[hidden]- SamResource
    SamResource "1" o-down- "1" CalypsoSam

    +class PoTransaction {
      +PoTransaction(PoResource poResource, PoSecuritySetting[0..1] securitySetting)

      +<b>final</b> processPoCommands(ChannelControl channel)
      +<b>final</b> processOpening(AccessLevel level)
      +<b>final</b> processPoCommandsInSession()
      +<b>final</b> processClosing(ChannelControl channel)
      +<b>final</b> processCancel(ChannelControl channel)
      +<b>final</b> prepareManageSession(EncryptionMode encMode, AuthenticationMode authMode)
      +<b>final</b> SessionSecureData getSessionSecureData()

      +<b>final</b> prepareCheckPinStatus()
      +<b>final</b> prepareVerifyPin(String pin)
      +<b>final</b> prepareVerifyPin(byte[] pin)

      +<b>final</b> prepareSvGet(SvSetting.Operation operation, SvSetting.Action action)
      +<b>final</b> prepareSvReload(int amount, int date, int time, String free)
      +<b>final</b> prepareSvReload(int amount, byte[] date, byte[] time, byte[] free)
      +<b>final</b> prepareSvReload(int amount)
      +<b>final</b> prepareSvDebit(int amount, int date, int time)
      +<b>final</b> prepareSvDebit(int amount, byte[] date, byte[] time)
      +<b>final</b> prepareSvDebit(int amount)
      +<b>final</b> SvOperationSecureData getSvOperationSecureData()

      +<b>final</b> prepareSelectFile(short lid)
      +<b>final</b> prepareSelectFile(byte[] lid)
      +<b>final</b> prepareSelectFile(SelectFileControl control)
      +<b>final</b> prepareReadRecordFile(byte sfi, int recordNumber)
      +<b>final</b> prepareReadRecordFile(byte sfi, int firstRecordNumber, int numberOfRecords, int recordSize))
      +<b>final</b> prepareReadSubRecordFile(byte sfi, int firstRecordNumber, int numberOfRecord, int recordOffset, int recordLength)
      +<b>final</b> prepareReadBinaryFile(byte sfi, int dataLength, int[0..1] dataOffset)
      +<b>final</b> prepareReadCounterFile(byte sfi, int countersNumber)
      +<b>final</b> prepareAppendRecord(byte sfi, byte[] recordData)
      +<b>final</b> prepareUpdateRecord(byte sfi, int recordNumber, byte[] recordData)
      +<b>final</b> prepareWriteRecord(byte sfi, int recordNumber, byte[] recordData)
      +<b>final</b> prepareUpdateBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)
      +<b>final</b> prepareWriteBinaryFile(byte sfi, byte[] fileData, int[0..1] dataOffset)
      +<b>final</b> prepareIncreaseCounter(byte sfi, int counterNumber, int incValue)
      +<b>final</b> prepareDecreaseCounter(byte sfi, int counterNumber, int decValue)
      +<b>final</b> prepareSetCounter(byte sfi, int counterNumber, int newValue)
      +<b>final</b> int prepareSearchRecord(byte sfi, byte offset, SearchOffsetMode offsetMode, byte[] searchData, Byte[] searchMask, SearchReadMode readMode)
      +<b>final</b> int[] getSearchResult(int searchRequestNumber)

      +<b>final</b> prepareInvalidate()
      +<b>final</b> prepareRehabilitate()

      +<b>final</b> prepareChangeKey(AccessLevel level)
      +<b>final</b> prepareChangePin(String pin)
      +<b>final</b> prepareChangePin(byte[] pin)
    }

    -enum SessionState {
      SESSION_UNITIALIZED,
      SESSION_OPEN,
      SESSION_CLOSED
    }

    +class "<b>final</b> SessionSetting" as SessionSetting {
    }

    +enum AccessLevel {
      SESSION_LVL_PERSO("perso", byte 0x01),
      SESSION_LVL_LOAD("load", byte 0x02),
      SESSION_LVL_DEBIT("debit", byte 0x03)
    }

    +enum ModificationMode {
      ATOMIC,
      MULTIPLE
    }

    +enum RatificationMode {
      CLOSE_RATIFIED,
      CLOSE_NOT_RATIFIED
    }

    +enum EncryptionMode {
      ACTIVATE,
      DEACTIVATE
    }

    +enum AuthenticationMode {
      REQUESTED,
      NOT_REQUESTED
    }

    +enum PinTransmissionMode {
      PLAIN,
      ENCRYPTED
    }

    together {
      +class "<b>final</b> SvSetting" as SvSetting {
      }

      +enum Operation {
        RELOAD,
        DEBIT
      }

      +enum Action {
        DO,
        UNDO
      }

      +enum LogRead {
        SINGLE,
        ALL
      }

      +enum NegativeBalance {
        FORBIDDEN,
        AUTHORIZED
      }

      SvSetting +-down- Operation
      SvSetting +-down- Action
      SvSetting +-down- LogRead
      SvSetting +-right- NegativeBalance
    }

    PoSecuritySetting .up. N1
    PoRevokedService "0..1" - -o "1" PoSecuritySetting
    PoSecuritySetting "1" o- - "0..1" SamRevokedService

    PoResource "1" - -o "1" PoTransaction
    PoTransaction "1" o-up- "0..1" PoSecuritySetting

    PoTransaction +-down- SessionState

    PoTransaction +-down- SessionSetting
    SessionSetting +-down- EncryptionMode
    SessionSetting +-down- ModificationMode
    SessionSetting +-down- RatificationMode
    SessionSetting +- - AccessLevel
    EncryptionMode -down[hidden]- AccessLevel
    SessionSetting +- - AuthenticationMode
    ModificationMode -down[hidden]- AuthenticationMode

     PoTransaction +-down- PinTransmissionMode

    PoTransaction +-down- SvSetting

    SessionState -right[hidden]- SessionSetting
    SessionSetting -right[hidden]- PinTransmissionMode
    PinTransmissionMode -right[hidden]- SvSetting
  }

  +enum SelectFileControl {
    FIRST_EF,
    NEXT_EF,
    CURRENT_DF
  }

  PoTransaction - - SelectFileControl
  AuthenticationMode -down[hidden]- SelectFileControl
}
@enduml

PlantUML version 1.2020.07(Sun Apr 19 15:42:40 MUT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b765.40
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>